# ã‚¨ãƒ‡ã‚£ã‚¿å¿…é ˆæ©Ÿèƒ½è¨­è¨ˆæ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**æœ€çµ‚æ›´æ–°**: 2025-12-18  
**å¯¾è±¡**: Simple TDC Game Editor

---

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€TDã‚²ãƒ¼ãƒ ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸ä½œæˆã«**å¿…è¦æœ€ä½é™**ã®æ©Ÿèƒ½ã‚’å®šç¾©ã—ã¾ã™ã€‚  
æ®µéšçš„å®Ÿè£…ã«ã‚ˆã‚Šã€æœ€çŸ­ã§å®Ÿç”¨å¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚¿ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

---

## 1. å¿…é ˆæ©Ÿèƒ½ã®å„ªå…ˆé †ä½

### Phase 1: CRUDåŸºæœ¬æ“ä½œï¼ˆæœ€å„ªå…ˆï¼‰ğŸ”´

**ç›®æ¨™**: ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ãƒ»ä¿å­˜ãŒå¯èƒ½

| æ©Ÿèƒ½ | å„ªå…ˆåº¦ | å®Ÿè£…å·¥æ•° |
|------|--------|---------|
| **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ** | ğŸ”´ æœ€é«˜ | 0.5æ—¥ |
| **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç·¨é›†** | ğŸ”´ æœ€é«˜ | 0.5æ—¥ |
| **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å‰Šé™¤** | ğŸ”´ æœ€é«˜ | 0.5æ—¥ |
| **JSONä¿å­˜** | ğŸ”´ æœ€é«˜ | 1æ—¥ |
| **Waveä½œæˆ** | ğŸ”´ æœ€é«˜ | 0.5æ—¥ |
| **ã‚¹ãƒ†ãƒ¼ã‚¸ä½œæˆ** | ğŸ”´ æœ€é«˜ | 0.5æ—¥ |

**åˆè¨ˆ**: **3.5æ—¥**

### Phase 2: å®Ÿç”¨æ€§å‘ä¸Šï¼ˆé«˜å„ªå…ˆï¼‰ğŸŸ¡

**ç›®æ¨™**: å¿«é©ãªç·¨é›†ç’°å¢ƒ

| æ©Ÿèƒ½ | å„ªå…ˆåº¦ | å®Ÿè£…å·¥æ•° |
|------|--------|---------|
| **æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿** | ğŸŸ¡ é«˜ | 0.5æ—¥ |
| **å‚ç…§æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯** | ğŸŸ¡ é«˜ | 1æ—¥ |
| **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½** | ğŸŸ¡ é«˜ | 1.5æ—¥ |
| **ä¸€æ‹¬ç·¨é›†** | ğŸŸ¢ ä¸­ | 1æ—¥ |

**åˆè¨ˆ**: **4æ—¥**

### Phase 3: é«˜åº¦æ©Ÿèƒ½ï¼ˆä½å„ªå…ˆï¼‰ğŸŸ¢

**ç›®æ¨™**: é–‹ç™ºåŠ¹ç‡å‘ä¸Š

| æ©Ÿèƒ½ | å„ªå…ˆåº¦ | å®Ÿè£…å·¥æ•° |
|------|--------|---------|
| **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿** | ğŸŸ¢ ä½ | 3æ—¥ä»¥ä¸Š |
| **Undo/Redo** | ğŸŸ¢ ä½ | 2æ—¥ |
| **ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿** | ğŸŸ¢ ä½ | 1é€±é–“ä»¥ä¸Š |

---

## 2. Phase 1: CRUDåŸºæœ¬æ“ä½œï¼ˆæœ€å„ªå…ˆå®Ÿè£…ï¼‰

### 2.1 ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿

#### å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

```cpp
// æœ€ä½é™å¿…è¦ãªé …ç›®ã®ã¿
struct MinimalEntityForm {
    // åŸºæœ¬æƒ…å ±
    char id[64];              // ğŸ”´ å¿…é ˆ
    char name[128];           // ğŸ”´ å¿…é ˆ
    bool is_enemy;            // ğŸ”´ å¿…é ˆï¼ˆæ•µ/å‘³æ–¹åˆ¤å®šï¼‰
    char type[32];            // ğŸ”´ å¿…é ˆï¼ˆ"main" / "sub"ï¼‰
    
    // æˆ¦é—˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    int hp;                   // ğŸ”´ å¿…é ˆ
    int attack;               // ğŸ”´ å¿…é ˆ
    float attack_speed;       // ğŸ”´ å¿…é ˆ
    int range;                // ğŸ”´ å¿…é ˆ
    float move_speed;         // ğŸ”´ å¿…é ˆ
    
    // ã‚³ã‚¹ãƒˆï¼ˆå‘³æ–¹ã®ã¿ï¼‰
    int cost;                 // ğŸŸ¡ æ¡ä»¶ä»˜ãå¿…é ˆ
    float cooldown;           // ğŸŸ¡ æ¡ä»¶ä»˜ãå¿…é ˆ
    
    // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆï¼ˆçµ±ä¸€ä»•æ§˜ï¼‰
    char sprite_texture[256]; // ğŸŸ¡ ä»»æ„ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ãƒ—ãƒ©ã‚¤ãƒˆå¯ï¼‰
};
```

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ•µ/å‘³æ–¹] ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³                          â”‚
â”‚ â—‹ å‘³æ–¹ãƒ¦ãƒ‹ãƒƒãƒˆ  â— æ•µãƒ¦ãƒ‹ãƒƒãƒˆ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID: [________________] â† è‹±æ•°å­—ã®ã¿             â”‚
â”‚ åå‰: [________________] â† æ—¥æœ¬èªå¯             â”‚
â”‚ ã‚¿ã‚¤ãƒ—: [â–¼ main / sub]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HP: [____] æ”»æ’ƒåŠ›: [____]                       â”‚
â”‚ æ”»æ’ƒé€Ÿåº¦: [____] å°„ç¨‹: [____]                   â”‚
â”‚ ç§»å‹•é€Ÿåº¦: [____]                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚³ã‚¹ãƒˆ: [____] ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³: [____]             â”‚
â”‚ â€»æ•µã®å ´åˆã¯ç„¡åŠ¹                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆ: [å‚ç…§...] (ä»»æ„)              â”‚
â”‚ â€»æœªè¨­å®šæ™‚ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤º                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä½œæˆ] [æ›´æ–°] [å‰Šé™¤] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```cpp
void EntityEditor::DrawCreateEditForm() {
    // æ•µ/å‘³æ–¹é¸æŠ
    ImGui::RadioButton("å‘³æ–¹ãƒ¦ãƒ‹ãƒƒãƒˆ", &form_.is_enemy, 0);
    ImGui::SameLine();
    ImGui::RadioButton("æ•µãƒ¦ãƒ‹ãƒƒãƒˆ", &form_.is_enemy, 1);
    
    // åŸºæœ¬æƒ…å ±
    ImGui::InputText("ID", form_.id, 64);
    if (ImGui::IsItemHovered()) {
        ImGui::SetTooltip("è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ï¼ˆä¾‹: hero_warrior, enemy_slime_01ï¼‰");
    }
    
    ImGui::InputText("åå‰", form_.name, 128);
    
    // ã‚¿ã‚¤ãƒ—é¸æŠ
    const char* types[] = { "main", "sub" };
    ImGui::Combo("ã‚¿ã‚¤ãƒ—", &form_.type_index, types, 2);
    
    // æˆ¦é—˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    ImGui::InputInt("HP", &form_.hp);
    ImGui::InputInt("æ”»æ’ƒåŠ›", &form_.attack);
    ImGui::InputFloat("æ”»æ’ƒé€Ÿåº¦", &form_.attack_speed, 0.1f);
    ImGui::InputInt("å°„ç¨‹", &form_.range);
    ImGui::InputFloat("ç§»å‹•é€Ÿåº¦", &form_.move_speed, 1.0f);
    
    // ã‚³ã‚¹ãƒˆï¼ˆå‘³æ–¹ã®ã¿ï¼‰
    if (!form_.is_enemy) {
        ImGui::InputInt("ã‚³ã‚¹ãƒˆ", &form_.cost);
        ImGui::InputFloat("ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³", &form_.cooldown, 0.5f);
    }
    
    // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆ
    ImGui::InputText("ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆãƒ‘ã‚¹", form_.sprite_texture, 256);
    ImGui::SameLine();
    if (ImGui::Button("å‚ç…§...")) {
        // TODO: ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°
    }
    
    // ãƒœã‚¿ãƒ³
    if (editMode_) {
        if (ImGui::Button("æ›´æ–°")) UpdateEntity();
        ImGui::SameLine();
        if (ImGui::Button("å‰Šé™¤")) DeleteEntity();
    } else {
        if (ImGui::Button("ä½œæˆ")) CreateEntity();
    }
    ImGui::SameLine();
    if (ImGui::Button("ã‚­ãƒ£ãƒ³ã‚»ãƒ«")) ClearForm();
}
```

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

```cpp
bool EntityEditor::ValidateForm() {
    std::vector<std::string> errors;
    
    // IDå¿…é ˆãƒã‚§ãƒƒã‚¯
    if (strlen(form_.id) == 0) {
        errors.push_back("IDã¯å¿…é ˆã§ã™");
    }
    
    // IDå½¢å¼ãƒã‚§ãƒƒã‚¯ï¼ˆè‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ï¼‰
    std::regex id_pattern("^[a-zA-Z0-9_]+$");
    if (!std::regex_match(form_.id, id_pattern)) {
        errors.push_back("IDã¯è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™");
    }
    
    // åå‰å¿…é ˆãƒã‚§ãƒƒã‚¯
    if (strlen(form_.name) == 0) {
        errors.push_back("åå‰ã¯å¿…é ˆã§ã™");
    }
    
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¯„å›²ãƒã‚§ãƒƒã‚¯
    if (form_.hp <= 0) errors.push_back("HPã¯1ä»¥ä¸Šå¿…è¦ã§ã™");
    if (form_.attack < 0) errors.push_back("æ”»æ’ƒåŠ›ã¯0ä»¥ä¸Šå¿…è¦ã§ã™");
    if (form_.attack_speed <= 0) errors.push_back("æ”»æ’ƒé€Ÿåº¦ã¯0ã‚ˆã‚Šå¤§ãã„å€¤ãŒå¿…è¦ã§ã™");
    if (form_.range < 0) errors.push_back("å°„ç¨‹ã¯0ä»¥ä¸Šå¿…è¦ã§ã™");
    if (form_.move_speed < 0) errors.push_back("ç§»å‹•é€Ÿåº¦ã¯0ä»¥ä¸Šå¿…è¦ã§ã™");
    
    // å‘³æ–¹ãƒ¦ãƒ‹ãƒƒãƒˆå›ºæœ‰ãƒã‚§ãƒƒã‚¯
    if (!form_.is_enemy) {
        if (form_.cost <= 0) errors.push_back("ã‚³ã‚¹ãƒˆã¯1ä»¥ä¸Šå¿…è¦ã§ã™");
        if (form_.cooldown < 0) errors.push_back("ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã¯0ä»¥ä¸Šå¿…è¦ã§ã™");
    }
    
    // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    if (!errors.empty()) {
        for (const auto& err : errors) {
            ImGui::TextColored(ImVec4(1, 0, 0, 1), "âš  %s", err.c_str());
        }
        return false;
    }
    
    return true;
}
```

---

### 2.2 Waveï¼ˆã‚¦ã‚§ãƒ¼ãƒ–ï¼‰ã‚¨ãƒ‡ã‚£ã‚¿

#### å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

```cpp
struct MinimalWaveForm {
    char id[64];              // ğŸ”´ å¿…é ˆ
    char stage_id[64];        // ğŸ”´ å¿…é ˆ
    int wave_number;          // ğŸ”´ å¿…é ˆ
    
    // ã‚¹ãƒãƒ¼ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆç°¡æ˜“ç‰ˆï¼‰
    struct SimpleSpawn {
        char entity_id[64];   // ğŸ”´ å¿…é ˆ
        int count;            // ğŸ”´ å¿…é ˆ
        float spawn_interval; // ğŸ”´ å¿…é ˆ
    };
    std::vector<SimpleSpawn> spawns; // æœ€ä½1å€‹
};
```

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Wave ID: [________________]                     â”‚
â”‚ ã‚¹ãƒ†ãƒ¼ã‚¸ID: [â–¼ stage_debug]                     â”‚
â”‚ Waveç•ªå·: [__1__]                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒãƒ¼ãƒ³è¨­å®š:                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: [â–¼ enemy_slime_debug]     â”‚   â”‚
â”‚ â”‚ å‡ºç¾æ•°: [__5__]                          â”‚   â”‚
â”‚ â”‚ é–“éš”(ç§’): [__1.0__]                      â”‚   â”‚
â”‚ â”‚ [å‰Šé™¤]                                   â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: [â–¼ enemy_ogre_debug]      â”‚   â”‚
â”‚ â”‚ å‡ºç¾æ•°: [__2__]                          â”‚   â”‚
â”‚ â”‚ é–“éš”(ç§’): [__2.0__]                      â”‚   â”‚
â”‚ â”‚ [å‰Šé™¤]                                   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ [+ ã‚¹ãƒãƒ¼ãƒ³è¿½åŠ ]                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä½œæˆ] [æ›´æ–°] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```cpp
void WaveEditor::DrawSpawnGroupList() {
    for (size_t i = 0; i < form_.spawns.size(); i++) {
        ImGui::PushID(i);
        
        // ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é¸æŠï¼ˆæ•µã®ã¿ï¼‰
        if (ImGui::BeginCombo("ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£", form_.spawns[i].entity_id)) {
            for (const auto* entity : definitions_->GetAllEntities()) {
                if (entity->is_enemy) { // æ•µã®ã¿è¡¨ç¤º
                    bool selected = (strcmp(form_.spawns[i].entity_id, entity->id.c_str()) == 0);
                    if (ImGui::Selectable(entity->name.c_str(), selected)) {
                        strcpy(form_.spawns[i].entity_id, entity->id.c_str());
                    }
                }
            }
            ImGui::EndCombo();
        }
        
        ImGui::InputInt("å‡ºç¾æ•°", &form_.spawns[i].count);
        ImGui::InputFloat("é–“éš”(ç§’)", &form_.spawns[i].spawn_interval, 0.1f);
        
        if (ImGui::Button("å‰Šé™¤")) {
            form_.spawns.erase(form_.spawns.begin() + i);
            ImGui::PopID();
            break;
        }
        
        ImGui::Separator();
        ImGui::PopID();
    }
    
    if (ImGui::Button("+ ã‚¹ãƒãƒ¼ãƒ³è¿½åŠ ")) {
        form_.spawns.push_back({});
    }
}
```

---

### 2.3 ã‚¹ãƒ†ãƒ¼ã‚¸ã‚¨ãƒ‡ã‚£ã‚¿

#### å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

```cpp
struct MinimalStageForm {
    char id[64];              // ğŸ”´ å¿…é ˆ
    char name[128];           // ğŸ”´ å¿…é ˆ
    char domain[64];          // ğŸ”´ å¿…é ˆï¼ˆä¾‹: "World1"ï¼‰
    int subdomain;            // ğŸ”´ å¿…é ˆï¼ˆä¾‹: 1, 2, 3...ï¼‰
    
    int player_castle_hp;     // ğŸ”´ å¿…é ˆ
    int enemy_castle_hp;      // ğŸ”´ å¿…é ˆ
    
    std::vector<std::string> wave_ids; // ğŸ”´ æœ€ä½1å€‹å¿…è¦
};
```

#### UIæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¹ãƒ†ãƒ¼ã‚¸ID: [________________]                  â”‚
â”‚ åå‰: [________________]                        â”‚
â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³: [â–¼ World1]                            â”‚
â”‚ ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³: [__1__]                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‘³æ–¹åŸHP: [__1000__]                            â”‚
â”‚ æ•µåŸHP: [__6000__]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Waveæ§‹æˆ:                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [â–¼ wave_debug_01]          [â†‘] [â†“] [Ã—] â”‚   â”‚
â”‚ â”‚ [â–¼ wave_debug_02]          [â†‘] [â†“] [Ã—] â”‚   â”‚
â”‚ â”‚ [â–¼ wave_debug_03]          [â†‘] [â†“] [Ã—] â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ [+ Waveè¿½åŠ ]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä½œæˆ] [æ›´æ–°] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.4 JSONä¿å­˜æ©Ÿèƒ½

#### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
assets/definitions/
â”œâ”€â”€ entities_custom.json      â† ã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã—ãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”œâ”€â”€ waves_custom.json         â† ã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã—ãŸWave
â”œâ”€â”€ stages_custom.json        â† ã‚¨ãƒ‡ã‚£ã‚¿ã§ä½œæˆã—ãŸã‚¹ãƒ†ãƒ¼ã‚¸
â””â”€â”€ (æ—¢å­˜ã®debug/sampleãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿æŒ)
```

#### å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```cpp
class DefinitionSaver {
public:
    bool SaveEntities(const DefinitionRegistry& registry) {
        nlohmann::json j = nlohmann::json::array();
        
        for (const auto* entity : registry.GetAllEntities()) {
            nlohmann::json e;
            e["id"] = entity->id;
            e["name"] = entity->name;
            e["type"] = entity->type;
            e["is_enemy"] = entity->is_enemy;
            e["cost"] = entity->cost;
            e["cooldown"] = entity->cooldown;
            
            e["stats"]["hp"] = entity->stats.hp;
            e["stats"]["attack"] = entity->stats.attack;
            e["stats"]["attack_speed"] = entity->stats.attack_speed;
            e["stats"]["range"] = entity->stats.range;
            e["stats"]["move_speed"] = entity->stats.move_speed;
            e["stats"]["knockback"] = entity->stats.knockback;
            
            if (!entity->display.atlas_texture.empty()) {
                e["display"]["atlas_texture"] = entity->display.atlas_texture;
            }
            
            j.push_back(e);
        }
        
        return WriteJsonFile("assets/definitions/entities_custom.json", j);
    }
    
private:
    bool WriteJsonFile(const std::string& path, const nlohmann::json& j) {
        try {
            std::ofstream file(path);
            if (!file.is_open()) return false;
            
            file << j.dump(2); // ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ2ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
            return true;
        } catch (...) {
            return false;
        }
    }
};
```

---

## 3. Phase 2: å®Ÿç”¨æ€§å‘ä¸Š

### 3.1 æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿

```cpp
void EntityEditor::DrawFilteredList() {
    // æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹
    static char searchBuffer[256] = "";
    ImGui::InputText("æ¤œç´¢", searchBuffer, 256);
    
    // ãƒ•ã‚£ãƒ«ã‚¿
    static int filter = 0; // 0: å…¨ã¦, 1: å‘³æ–¹ã®ã¿, 2: æ•µã®ã¿
    ImGui::RadioButton("å…¨ã¦", &filter, 0); ImGui::SameLine();
    ImGui::RadioButton("å‘³æ–¹ã®ã¿", &filter, 1); ImGui::SameLine();
    ImGui::RadioButton("æ•µã®ã¿", &filter, 2);
    
    // ä¸€è¦§è¡¨ç¤º
    if (ImGui::BeginTable("entities", 4, ImGuiTableFlags_RowBg | ImGuiTableFlags_Borders)) {
        ImGui::TableSetupColumn("ID");
        ImGui::TableSetupColumn("åå‰");
        ImGui::TableSetupColumn("ã‚¿ã‚¤ãƒ—");
        ImGui::TableSetupColumn("æ•µ/å‘³æ–¹");
        ImGui::TableHeadersRow();
        
        for (const auto* entity : definitions_->GetAllEntities()) {
            // ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨
            if (filter == 1 && entity->is_enemy) continue;
            if (filter == 2 && !entity->is_enemy) continue;
            
            // æ¤œç´¢é©ç”¨
            std::string search(searchBuffer);
            if (!search.empty()) {
                std::string id_lower = ToLower(entity->id);
                std::string name_lower = ToLower(entity->name);
                std::string search_lower = ToLower(search);
                
                if (id_lower.find(search_lower) == std::string::npos &&
                    name_lower.find(search_lower) == std::string::npos) {
                    continue;
                }
            }
            
            // è¡¨ç¤º
            ImGui::TableNextRow();
            ImGui::TableSetColumnIndex(0);
            if (ImGui::Selectable(entity->id.c_str(), false, ImGuiSelectableFlags_SpanAllColumns)) {
                LoadToForm(entity); // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã¸
            }
            ImGui::TableSetColumnIndex(1);
            ImGui::Text("%s", entity->name.c_str());
            ImGui::TableSetColumnIndex(2);
            ImGui::Text("%s", entity->type.c_str());
            ImGui::TableSetColumnIndex(3);
            ImGui::Text("%s", entity->is_enemy ? "æ•µ" : "å‘³æ–¹");
        }
        
        ImGui::EndTable();
    }
}
```

### 3.2 å‚ç…§æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

```cpp
class ReferenceValidator {
public:
    struct ValidationResult {
        bool valid = true;
        std::vector<std::string> warnings;
        std::vector<std::string> errors;
    };
    
    ValidationResult ValidateEntityDeletion(const std::string& entity_id) {
        ValidationResult result;
        
        // Waveã§ã®ä½¿ç”¨ãƒã‚§ãƒƒã‚¯
        for (const auto* wave : definitions_->GetAllWaves()) {
            for (const auto& spawn : wave->spawn_groups) {
                if (spawn.entity_id == entity_id) {
                    result.errors.push_back(
                        "Wave '" + wave->id + "' ã§ä½¿ç”¨ä¸­ã§ã™"
                    );
                    result.valid = false;
                }
            }
        }
        
        return result;
    }
    
    ValidationResult ValidateWaveDeletion(const std::string& wave_id) {
        ValidationResult result;
        
        // ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã®ä½¿ç”¨ãƒã‚§ãƒƒã‚¯
        for (const auto* stage : definitions_->GetAllStages()) {
            auto it = std::find(stage->wave_ids.begin(), stage->wave_ids.end(), wave_id);
            if (it != stage->wave_ids.end()) {
                result.errors.push_back(
                    "Stage '" + stage->id + "' ã§ä½¿ç”¨ä¸­ã§ã™"
                );
                result.valid = false;
            }
        }
        
        return result;
    }
};
```

### 3.3 ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```cpp
void EntityEditor::DrawSpritePreview() {
    if (form_.sprite_texture[0] == '\0') {
        ImGui::TextDisabled("ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆæœªè¨­å®š");
        return;
    }
    
    // ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ­ãƒ¼ãƒ‰ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
    if (!previewTexture_.loaded || previewTexture_.path != form_.sprite_texture) {
        if (previewTexture_.loaded) {
            UnloadTexture(previewTexture_.texture);
        }
        previewTexture_.texture = LoadTexture(form_.sprite_texture);
        previewTexture_.path = form_.sprite_texture;
        previewTexture_.loaded = (previewTexture_.texture.id != 0);
    }
    
    if (previewTexture_.loaded) {
        // ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ©: 256x256ã€ã‚µãƒ–ã‚­ãƒ£ãƒ©: 128x128ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
        int previewSize = (form_.type_index == 0) ? 256 : 128;
        rlImGuiImageSize(&previewTexture_.texture, previewSize, previewSize);
        
        ImGui::Text("ã‚µã‚¤ã‚º: %d x %d", 
            previewTexture_.texture.width,
            previewTexture_.texture.height
        );
        
        // ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸã‚µã‚¤ã‚ºè­¦å‘Š
        if (form_.type_index == 0 && previewTexture_.texture.width != 256) {
            ImGui::TextColored(ImVec4(1, 0.5f, 0, 1), 
                "âš  ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ©ã¯256x256æ¨å¥¨");
        } else if (form_.type_index == 1 && previewTexture_.texture.width > 128) {
            ImGui::TextColored(ImVec4(1, 0.5f, 0, 1), 
                "âš  ã‚µãƒ–ã‚­ãƒ£ãƒ©ã¯128x128ä»¥ä¸‹æ¨å¥¨");
        }
    } else {
        ImGui::TextColored(ImVec4(1, 0, 0, 1), "ãƒ†ã‚¯ã‚¹ãƒãƒ£èª­ã¿è¾¼ã¿å¤±æ•—");
    }
}
```

---

## 4. UIè¨­è¨ˆã¾ã¨ã‚

### ãƒ¡ã‚¤ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼                                              â”‚
â”‚ [ãƒ•ã‚¡ã‚¤ãƒ«] [ç·¨é›†] [è¡¨ç¤º] [ãƒ˜ãƒ«ãƒ—]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¿ãƒ–ãƒãƒ¼                                                  â”‚
â”‚ [ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£] [Wave] [ã‚¹ãƒ†ãƒ¼ã‚¸] [ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸€è¦§ãƒªã‚¹ãƒˆ        â”‚ ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ                           â”‚
â”‚                   â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [æ¤œç´¢: ____]  â”‚ â”‚ â”‚ ID: [________________]       â”‚   â”‚
â”‚ â”‚ â—‹å…¨ã¦ â—‹å‘³æ–¹   â”‚ â”‚ â”‚ åå‰: [________________]     â”‚   â”‚
â”‚ â”‚   â—‹æ•µ         â”‚ â”‚ â”‚                              â”‚   â”‚
â”‚ â”‚               â”‚ â”‚ â”‚ [ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¥åŠ›æ¬„]            â”‚   â”‚
â”‚ â”‚ enemy_slime   â”‚ â”‚ â”‚                              â”‚   â”‚
â”‚ â”‚ enemy_ogre    â”‚ â”‚ â”‚                              â”‚   â”‚
â”‚ â”‚ hero_warrior  â”‚ â”‚ â”‚ [ä½œæˆ] [æ›´æ–°] [å‰Šé™¤]          â”‚   â”‚
â”‚ â”‚ ...           â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼                           â”‚
â”‚                   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                   â”‚ â”‚ [ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆç”»åƒ]        â”‚   â”‚
â”‚                   â”‚ â”‚ (256x256 or 128x128)         â”‚   â”‚
â”‚                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼                                            â”‚
â”‚ âœ“ ä¿å­˜å®Œäº† | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: 15ä»¶ | æœ€çµ‚æ›´æ–°: 12:34          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1 (å¿…é ˆ) ğŸ”´

- [ ] **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£CRUD**
  - [ ] ä½œæˆãƒ•ã‚©ãƒ¼ãƒ 
  - [ ] ç·¨é›†æ©Ÿèƒ½ï¼ˆä¸€è¦§ã‹ã‚‰é¸æŠ â†’ ãƒ•ã‚©ãƒ¼ãƒ èª­ã¿è¾¼ã¿ï¼‰
  - [ ] å‰Šé™¤æ©Ÿèƒ½ï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰
  - [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - [ ] JSONä¿å­˜ï¼ˆã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆå½¢å¼ï¼‰

- [ ] **WaveCRUD**
  - [ ] ã‚¹ãƒãƒ¼ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—å‹•çš„è¿½åŠ /å‰Šé™¤
  - [ ] ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ï¼ˆæ•µã®ã¿ï¼‰
  - [ ] JSONä¿å­˜

- [ ] **ã‚¹ãƒ†ãƒ¼ã‚¸CRUD**
  - [ ] Waveé †åºå¤‰æ›´ï¼ˆä¸Šä¸‹ãƒœã‚¿ãƒ³ï¼‰
  - [ ] Waveè¿½åŠ /å‰Šé™¤
  - [ ] JSONä¿å­˜

### Phase 2 (æ¨å¥¨) ğŸŸ¡

- [ ] **UXæ”¹å–„**
  - [ ] æ¤œç´¢æ©Ÿèƒ½
  - [ ] ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
  - [ ] ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½
  - [ ] å‚ç…§æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
  - [ ] ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã‚µã‚¤ã‚ºè­¦å‘Šä»˜ãï¼‰

### Phase 3 (æ‹¡å¼µ) ğŸŸ¢

- [ ] **é«˜åº¦æ©Ÿèƒ½**
  - [ ] ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆAsepriteã‚¢ãƒˆãƒ©ã‚¹å¯¾å¿œï¼‰
  - [ ] Undo/Redo
  - [ ] ä¸€æ‹¬ç·¨é›†
  - [ ] ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

---

## 6. ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆä»•æ§˜ã¨ã®çµ±åˆ

### 6.1 ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—ã¨ã‚µã‚¤ã‚ºå¯¾å¿œ

| ã‚¿ã‚¤ãƒ— | æ¨å¥¨ã‚µã‚¤ã‚º | ç”¨é€” |
|--------|-----------|------|
| **main** | 256Ã—256 | ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ©ã€ãƒœã‚¹ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ¦ãƒ‹ãƒƒãƒˆ |
| **sub** | 128Ã—128ä»¥ä¸‹ | é›‘é­šæ•µã€ã‚µãƒãƒ¼ãƒˆã‚­ãƒ£ãƒ©ã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ |

### 6.2 ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆè¨­å®šãƒ•ãƒ­ãƒ¼

```
1. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
   â†“
2. ã‚¿ã‚¤ãƒ—é¸æŠï¼ˆmain / subï¼‰
   â†“
3. ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆãƒ‘ã‚¹æŒ‡å®š
   assets/mainCharacters/{name}/{name}.png (main)
   assets/subCharacters/{name}/{name}.png (sub)
   â†“
4. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ç¢ºèªï¼ˆã‚µã‚¤ã‚ºè­¦å‘Šè¡¨ç¤ºï¼‰
   â†“
5. ä¿å­˜ï¼ˆJSONï¼‰
```

### 6.3 JSONå‡ºåŠ›ä¾‹

```json
{
  "id": "hero_warrior",
  "name": "æˆ¦å£«",
  "type": "main",
  "is_enemy": false,
  "cost": 150,
  "cooldown": 5.0,
  "stats": {
    "hp": 500,
    "attack": 50,
    "attack_speed": 1.2,
    "range": 100,
    "move_speed": 80.0,
    "knockback": 10
  },
  "display": {
    "draw_type": "sprite_sheet",
    "atlas_texture": "assets/mainCharacters/Warrior/warrior.png",
    "sprite_actions": {
      "idle": "assets/mainCharacters/Warrior/warrior_idle.json",
      "walk": "assets/mainCharacters/Warrior/warrior_walk.json",
      "attack": "assets/mainCharacters/Warrior/warrior_attack.json",
      "death": "assets/mainCharacters/Warrior/warrior_death.json"
    }
  }
}
```

---

## 7. ã¾ã¨ã‚

### æœ€å°æ§‹æˆï¼ˆPhase 1ã®ã¿ï¼‰ã§å®Ÿç¾ã§ãã‚‹ã“ã¨

âœ… æ•µãƒ»å‘³æ–¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤  
âœ… ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆå½¢å¼ã§ã®çµ±ä¸€ç®¡ç†  
âœ… Waveã®ä½œæˆï¼ˆè¤‡æ•°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®å‡ºç¾ãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©ï¼‰  
âœ… ã‚¹ãƒ†ãƒ¼ã‚¸ã®ä½œæˆï¼ˆWaveæ§‹æˆã€åŸHPè¨­å®šï¼‰  
âœ… JSONå½¢å¼ã§ã®ä¿å­˜  
âœ… åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### æ¨å¥¨æ§‹æˆï¼ˆPhase 1 + 2ï¼‰ã§è¿½åŠ ã•ã‚Œã‚‹ã“ã¨

âœ… å¿«é©ãªæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½  
âœ… èª¤å‰Šé™¤é˜²æ­¢ï¼ˆå‚ç…§ãƒã‚§ãƒƒã‚¯ï¼‰  
âœ… ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚·ãƒ¼ãƒˆã®è¦–è¦šçš„ç¢ºèªï¼ˆã‚µã‚¤ã‚ºè­¦å‘Šä»˜ãï¼‰  
âœ… å®Ÿç”¨çš„ãªç·¨é›†ç’°å¢ƒ

**æ¨å¥¨å®Ÿè£…é †åº**: Phase 1ï¼ˆ3.5æ—¥ï¼‰ â†’ Phase 2ï¼ˆ4æ—¥ï¼‰ = **åˆè¨ˆ7.5æ—¥**ã§å®Ÿç”¨ãƒ¬ãƒ™ãƒ«é”æˆ

---

**æ–‡è²¬**: GitHub Copilot  
**æ‰¿èª**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ¼ãƒ‰  
**æ¬¡å›æ›´æ–°äºˆå®š**: Phase 1å®Ÿè£…å®Œäº†å¾Œ
