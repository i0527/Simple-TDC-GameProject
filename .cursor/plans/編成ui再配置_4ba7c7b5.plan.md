---
name: 編成UI再配置
overview: 編成画面のUIレイアウトを再構成し、編成スロットをプレビュー直下に圧縮、強化/ステータスを拡張し、候補ユニットの増加に対応する。対象はFHDレイアウト、raylibのUI描画。
todos:
  - id: survey-layout
    content: 編成シーンUIの現行レイアウト計算部を特定
    status: pending
  - id: resize-slot
    content: スロット帯をプレビュー直下に圧縮配置に再計算
    status: pending
  - id: expand-status
    content: 強化/ステータスパネルを縦拡張し2カラム化
    status: pending
  - id: grid-candidates
    content: 候補ユニットをスクロールグリッド化と列可変調整
    status: pending
  - id: input-flow
    content: ドラッグ/クリック配置とハイライト同期を確認・調整
    status: pending
  - id: test-layout
    content: FHD中心にレイアウトと入力を動作確認
    status: pending
---

# 編成UI再配置プラン

- 対象: `game/src/Game/Application/GameApp.cpp` （編成シーン描画部）

## 1) 現状レイアウト確認

- 現行の編成シーンUI（強化/ステータス・プレビュー・編成スロット・候補一覧）構造と描画座標・サイズ計算を把握。
- 候補ユニットのカード生成/入力ハンドリングの関数を特定。

## 2) レイアウト再設計（FHD基準）

- スロット帯: プレビュー直下に限定し、高さを現状の1/2〜1/3へ圧縮。2段グリッド折返しを許容する配置に変更。
- 強化/ステータス: 左上からスロット帯下端まで縦に拡張し、内部を2カラム（基本ステータス／強化プレビュー＋ボタン）に再配置。
- プレビュー: 横幅を維持しつつ縦をやや圧縮し、スロット帯と候補エリアに高さを割り当て。

## 3) 候補ユニットエリア拡張

- プレビュー下部残余領域を候補用グリッドに全面利用し、スクロールコンテナ化。
- カードサイズを小〜中で調整し、FHDで4〜6列を想定（解像度に応じて列数可変）。
- フィルタ/並び替え/簡易検索のUIフックを用意（職種・レア度・コストなど）。

## 4) 入力/操作導線の整理

- カード→スロットへのドラッグ&ドロップ／クリック選択→指定スロット配置の両対応を確認・調整。
- スロット選択でプレビューと強化欄を同期表示、選択中のハイライトを維持。

## 5) 調整・デバッグ

- FHDでの各領域サイズと余白を確認し、他解像度でもレイアウト破綻しないか軽くスケール確認。
- スクロールとホバー/クリック判定の衝突がないか動作テスト。