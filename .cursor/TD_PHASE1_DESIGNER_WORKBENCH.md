# TD ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ™ãƒ³ãƒ (Phase TD-1)

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0 - ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆç‰ˆ  
**ä½œæˆæ—¥**: 2025å¹´12æœˆ4æ—¥  
**ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: ComfyUI + NodeRED + Draw.io  
**ç›®çš„**: ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å‘ã‘ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹çµ±åˆé–‹ç™ºç’°å¢ƒ  
**å®Ÿè£…ç›®æ¨™**: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚° + ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€£æº  
**é›£æ˜“åº¦**: ğŸ”´ğŸ”´ è¶…é«˜ï¼ˆãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ + WebSocketåŒæ–¹å‘åŒæœŸï¼‰  
**æ¨å®šå·¥æ•°**: 5-7æ™‚é–“

---

## ğŸ¯ ãƒ“ã‚¸ãƒ§ãƒ³ - ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚²ãƒ¼ãƒ é–‹ç™º

> **ComfyUIã®ã‚ˆã†ã«ç›´æ„Ÿçš„ã€NodeREDã®ã‚ˆã†ã«æŸ”è»Ÿã€Draw.ioã®ã‚ˆã†ã«è¦–è¦šçš„**
>
> ### ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒã§ãã‚‹ã“ã¨
>
> 1. **ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ãƒ­ã‚¸ãƒƒã‚¯æ§‹ç¯‰** â†’ ã‚³ãƒ¼ãƒ‰ä¸è¦ã§ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ
> 2. **ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é…ç½®** â†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
> 3. **ãƒãƒ¼ãƒ‰æ¥ç¶šã§ã‚¤ãƒ™ãƒ³ãƒˆé€£æº** â†’ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
> 4. **ãƒ©ã‚¤ãƒ–ç·¨é›†ãƒ»å³åº§åæ˜ ** â†’ 0.5ç§’ã§ã‚²ãƒ¼ãƒ ç”»é¢ã«åŒæœŸ
> 5. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ—ãƒªã‚»ãƒƒãƒˆ** â†’ å†åˆ©ç”¨å¯èƒ½ãªãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•
> 6. **å…¨å¤‰æ›´ã‚’è‡ªå‹•ä¿å­˜** â†’ assets/definitions ã« JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

---

## ğŸ¨ UI/UX ã‚³ãƒ³ã‚»ãƒ—ãƒˆ - 3ã¤ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¢ãƒ¼ãƒ‰

### ãƒ¢ãƒ¼ãƒ‰1: ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆComfyUIé¢¨ï¼‰

```
ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ã§è¨­è¨ˆ
- Waveè¨­å®šãƒãƒ¼ãƒ‰
- æ•µã‚¹ãƒãƒ¼ãƒ³ãƒãƒ¼ãƒ‰  
- ã‚¿ãƒ¯ãƒ¼é…ç½®ãƒãƒ¼ãƒ‰
- æ¡ä»¶åˆ†å²ãƒãƒ¼ãƒ‰
- ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ãƒãƒ¼ãƒ‰
```

### ãƒ¢ãƒ¼ãƒ‰2: ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆDraw.ioé¢¨ï¼‰

```
ãƒãƒƒãƒ—ã‚’ç›´æ„Ÿçš„ã«æç”»ãƒ»ç·¨é›†
- ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹é…ç½®
- ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«
- ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…ç½®
- ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
```

### ãƒ¢ãƒ¼ãƒ‰3: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆAfterEffectsé¢¨ï¼‰

```
ã‚²ãƒ¼ãƒ é€²è¡Œã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§åˆ¶å¾¡
- Waveé€²è¡Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒ¼ã‚±ãƒ³ã‚¹
- ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´
```

---

## ğŸ“ ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### å…¨ä½“æ§‹æˆï¼ˆ3ãƒšã‚¤ãƒ³ + ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WebUI ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (1920x1080)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ â”‚          ä¸­å¤®ãƒãƒ¼ãƒ‰ã‚­ãƒ£ãƒ³ãƒã‚¹        â”‚ å³ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿  â”‚
â”‚  â”‚ (250px)      â”‚          (1400px)                    â”‚ (270px)          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚              â”‚                                      â”‚                  â”‚
â”‚  â”‚ ğŸ“¦ ãƒãƒ¼ãƒ‰    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ğŸ® ã‚²ãƒ¼ãƒ        â”‚
â”‚  â”‚   ãƒ‘ãƒ¬ãƒƒãƒˆ   â”‚  â”‚                                 â”‚ â”‚   ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼    â”‚
â”‚  â”‚              â”‚  â”‚    ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ã‚¨ãƒ‡ã‚£ã‚¿         â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                                 â”‚ â”‚â”‚              â”‚â”‚
â”‚  â”‚ â”‚Waveç”Ÿæˆ  â”‚ â”‚  â”‚  [Wave1]â”€â”€â†’[Spawn]â”€â”€â†’[Tower]  â”‚ â”‚â”‚ ãƒ©ã‚¤ãƒ–ç”»é¢   â”‚â”‚
â”‚  â”‚ â”‚          â”‚ â”‚  â”‚     â”‚         â”‚                 â”‚ â”‚â”‚ 640x360      â”‚â”‚
â”‚  â”‚ â”‚Spawn     â”‚ â”‚  â”‚     â””â”€â”€â”€â”€â†’[Enemy]â”€â”€â†’[Path]     â”‚ â”‚â”‚              â”‚â”‚
â”‚  â”‚ â”‚          â”‚ â”‚  â”‚                                 â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”‚ â”‚Tower     â”‚ â”‚  â”‚  [UI]â”€â”€â†’[Button]â”€â”€â†’[OnClick]   â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚          â”‚ â”‚  â”‚                                 â”‚ â”‚ ğŸ“‹ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£  â”‚
â”‚  â”‚ â”‚Enemy     â”‚ â”‚  â”‚  ã‚°ãƒªãƒƒãƒ‰: ON  ã‚¹ãƒŠãƒƒãƒ—: 20px  â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”‚ â”‚          â”‚ â”‚  â”‚                                 â”‚ â”‚ é¸æŠãƒãƒ¼ãƒ‰:    â”‚
â”‚  â”‚ â”‚Path      â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ Wave1          â”‚
â”‚  â”‚ â”‚          â”‚ â”‚                                      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â”‚Logic     â”‚ â”‚  ğŸ› ï¸ ãƒ„ãƒ¼ãƒ«ãƒãƒ¼                      â”‚ â”‚Waveç•ªå·: 1  â”‚ â”‚
â”‚  â”‚ â”‚          â”‚ â”‚  [é¸æŠ][ç§»å‹•][æ¥ç¶š][å‰Šé™¤][Undo/Redo]â”‚ â”‚æ•µæ•°: 10     â”‚ â”‚
â”‚  â”‚ â”‚Event     â”‚ â”‚  [å®Ÿè¡Œ][åœæ­¢][ãƒ‡ãƒãƒƒã‚°]              â”‚ â”‚é–“éš”: 2.0s   â”‚ â”‚
â”‚  â”‚ â”‚          â”‚ â”‚                                      â”‚ â”‚é›£æ˜“åº¦: Easy â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚              â”‚  ãƒãƒ¼ãƒ‰: 8å€‹ æ¥ç¶š: 6æœ¬ å®Ÿè¡Œä¸­: Wave3â”‚ â”‚                 â”‚
â”‚  â”‚ ğŸ¨ ãƒ†ãƒ³ãƒ—ãƒ¬ â”‚  FPS: 60  ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼: 120ms       â”‚ â”‚ ğŸ”— æ¥ç¶šæƒ…å ±   â”‚
â”‚  â”‚   ãƒ¼ãƒˆ       â”‚                                      â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”‚              â”‚                                      â”‚ â”‚ å…¥åŠ›: 2       â”‚
â”‚  â”‚ â€¢ åŸºæœ¬Wave  â”‚                                      â”‚ â”‚ å‡ºåŠ›: 1       â”‚
â”‚  â”‚ â€¢ ãƒœã‚¹æˆ¦    â”‚                                      â”‚ â”‚ ã‚¿ã‚¤ãƒ—: Wave  â”‚
â”‚  â”‚ â€¢ ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹â”‚                                      â”‚ â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â†• WebSocket (åŒæ–¹å‘åŒæœŸ)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      C++ ãƒãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³ + HTTPServer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ NodeGraphExecutor - ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³                              â”‚
â”‚  â€¢ /ws/designer - WebSocket ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼æ¥ç¶š                                   â”‚
â”‚  â€¢ /api/nodes/* - ãƒãƒ¼ãƒ‰CRUD API                                             â”‚
â”‚  â€¢ /api/graph/* - ã‚°ãƒ©ãƒ•å®Ÿè¡Œãƒ»ãƒ‡ãƒãƒƒã‚°API                                    â”‚
â”‚  â€¢ NodeSerializer - JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒãƒ¼ãƒ‰ç¨®åˆ¥ï¼ˆComfyUI/NodeREDé¢¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ãƒãƒ¼ãƒ‰ã‚«ãƒ†ã‚´ãƒª                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ ğŸ“Š ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼ãƒãƒ¼ãƒ‰                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Wave    â”‚  â”‚ Spawn   â”‚  â”‚ Delay   â”‚                    â”‚
â”‚  â”‚ Start   â”‚â”€â”€â”‚ Enemy   â”‚â”€â”€â”‚ 2.0s    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚ ğŸ® ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒãƒ¼ãƒ‰                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Tower   â”‚  â”‚ Enemy   â”‚  â”‚ Bullet  â”‚                    â”‚
â”‚  â”‚ Create  â”‚  â”‚ AI      â”‚  â”‚ Spawn   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚ ğŸ—ºï¸ ãƒãƒƒãƒ—ãƒãƒ¼ãƒ‰                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Path    â”‚  â”‚ Waypointâ”‚  â”‚ Terrain â”‚                    â”‚
â”‚  â”‚ Generateâ”‚â”€â”€â”‚ Add     â”‚â”€â”€â”‚ Modify  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚ ğŸ¨ UIãƒãƒ¼ãƒ‰                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Button  â”‚  â”‚ Text    â”‚  â”‚ Panel   â”‚                    â”‚
â”‚  â”‚ Create  â”‚â”€â”€â”‚ Update  â”‚  â”‚ Layout  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚ âš¡ ãƒ­ã‚¸ãƒƒã‚¯ãƒãƒ¼ãƒ‰                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ IF      â”‚  â”‚ Loop    â”‚  â”‚ Variableâ”‚                    â”‚
â”‚  â”‚ HP < 50 â”‚â”€â”€â”‚ 10x     â”‚â”€â”€â”‚ Set     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚ ğŸ”” ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ¼ãƒ‰                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ OnClick â”‚  â”‚ OnDeath â”‚  â”‚ OnWave  â”‚                    â”‚
â”‚  â”‚ Trigger â”‚  â”‚ Trigger â”‚  â”‚ Completeâ”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ WebSocketé€šä¿¡ä»•æ§˜

### ãƒ—ãƒ­ãƒˆã‚³ãƒ«

**æ¥ç¶šæƒ…å ±**:

```
URL: ws://localhost:8080/ws/designer
ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆ: 1ç§’ã”ã¨
å†æ¥ç¶š: è‡ªå‹•ï¼ˆæœ€å¤§5å›ï¼‰
ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 10ç§’
```

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ** (WebUI â†’ ã‚²ãƒ¼ãƒ ):

```json
{
  "id": "msg_12345",              // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDï¼ˆACKç”¨ï¼‰
  "type": "entity_add|entity_update|map_generate|ui_place|...",
  "timestamp": 1733355600000,
  "data": {
    // type ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (ã‚²ãƒ¼ãƒ  â†’ WebUI):

```json
{
  "id": "msg_12345",              // ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®IDã«å¯¾å¿œ
  "status": "success|error|ignored",
  "timestamp": 1733355601000,
  "data": {
    // å¤‰æ›´å¾Œã®ãƒ‡ãƒ¼ã‚¿
  },
  "error": "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆã‚¨ãƒ©ãƒ¼æ™‚ã®ã¿ï¼‰"
}
```

**çŠ¶æ…‹åŒæœŸ** (å®šæœŸè‡ªå‹•):

```json
{
  "type": "state_sync",
  "timestamp": 1733355602000,
  "data": {
    "entities": [...],            // å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
    "gameState": {...},           // ã‚²ãƒ¼ãƒ çŠ¶æ…‹
    "mapData": {...}              // ãƒãƒƒãƒ—çŠ¶æ…‹
  }
}
```

---

## ğŸ“¡ ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹APIä»•æ§˜

### 1. ãƒãƒ¼ãƒ‰ç®¡ç†API

#### 1.1 ãƒãƒ¼ãƒ‰è¿½åŠ 

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "add_node_001",
  "type": "node_add",
  "data": {
    "node_type": "wave_start",
    "position": {"x": 100, "y": 150},
    "config": {
      "wave_number": 1,
      "enemy_count": 10,
      "spawn_interval": 2.0
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "add_node_001",
  "status": "success",
  "data": {
    "node_id": "node_wave_001",
    "node_type": "wave_start",
    "position": {"x": 100, "y": 150},
    "inputs": [],
    "outputs": ["flow", "wave_data"]
  }
}
```

---

#### 1.2 ãƒãƒ¼ãƒ‰æ¥ç¶š

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "connect_001",
  "type": "node_connect",
  "data": {
    "from_node": "node_wave_001",
    "from_output": "flow",
    "to_node": "node_spawn_002",
    "to_input": "trigger"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "connect_001",
  "status": "success",
  "data": {
    "connection_id": "conn_001",
    "valid": true,
    "data_type": "flow"
  }
}
```

---

#### 1.3 ã‚°ãƒ©ãƒ•å®Ÿè¡Œ

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "exec_graph_001",
  "type": "graph_execute",
  "data": {
    "graph_id": "graph_main",
    "start_node": "node_wave_001",
    "debug_mode": true
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å®Ÿè¡Œãƒ­ã‚°):

```json
{
  "id": "exec_graph_001",
  "status": "success",
  "data": {
    "execution_id": "exec_12345",
    "nodes_executed": [
      {
        "node_id": "node_wave_001",
        "status": "completed",
        "execution_time_ms": 15,
        "output": {"wave_number": 1, "enemy_count": 10}
      },
      {
        "node_id": "node_spawn_002",
        "status": "running",
        "enemies_spawned": 3
      }
    ]
  }
}
```

---

### 2. ãƒãƒ¼ãƒ‰ç¨®åˆ¥è©³ç´°ä»•æ§˜

#### 2.1 Wave Startãƒãƒ¼ãƒ‰

**ãƒãƒ¼ãƒ‰æ§‹é€ **:

```json
{
  "node_type": "wave_start",
  "display_name": "Waveé–‹å§‹",
  "category": "game_flow",
  "color": "#4A90E2",
  "inputs": [
    {"name": "trigger", "type": "flow", "required": false}
  ],
  "outputs": [
    {"name": "flow", "type": "flow"},
    {"name": "wave_data", "type": "data"}
  ],
  "properties": [
    {"name": "wave_number", "type": "int", "default": 1, "min": 1, "max": 100},
    {"name": "enemy_count", "type": "int", "default": 10},
    {"name": "spawn_interval", "type": "float", "default": 2.0, "min": 0.1}
  ]
}
```

**å®Ÿè¡Œæ™‚å‹•ä½œ**:

```
1. ãƒˆãƒªã‚¬ãƒ¼å—ä¿¡ or æ‰‹å‹•é–‹å§‹
2. Waveç•ªå·ã‚’ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã«è¨­å®š
3. enemy_count ã‚’æ¬¡ãƒãƒ¼ãƒ‰ã«æ¸¡ã™
4. flowã‚’å‡ºåŠ›ã—ã¦æ¬¡ãƒãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
```

---

#### 2.2 Enemy Spawnãƒãƒ¼ãƒ‰

**ãƒãƒ¼ãƒ‰æ§‹é€ **:

```json
{
  "node_type": "enemy_spawn",
  "display_name": "æ•µç”Ÿæˆ",
  "category": "entity",
  "color": "#E24A4A",
  "inputs": [
    {"name": "trigger", "type": "flow"},
    {"name": "enemy_type", "type": "string", "default": "basic"},
    {"name": "count", "type": "int"}
  ],
  "outputs": [
    {"name": "flow", "type": "flow"},
    {"name": "entities", "type": "entity[]"}
  ],
  "properties": [
    {
      "name": "enemy_type",
      "type": "dropdown",
      "options": ["basic", "fast", "tank", "boss"],
      "default": "basic"
    },
    {"name": "spawn_position", "type": "vector2", "default": {"x": 0, "y": 0}},
    {"name": "hp_multiplier", "type": "float", "default": 1.0}
  ]
}
```

---

#### 2.3 Towerãƒãƒ¼ãƒ‰

**ãƒãƒ¼ãƒ‰æ§‹é€ **:

```json
{
  "node_type": "tower_create",
  "display_name": "ã‚¿ãƒ¯ãƒ¼é…ç½®",
  "category": "entity",
  "color": "#4AE290",
  "inputs": [
    {"name": "trigger", "type": "flow"},
    {"name": "position", "type": "vector2"}
  ],
  "outputs": [
    {"name": "flow", "type": "flow"},
    {"name": "tower_entity", "type": "entity"}
  ],
  "properties": [
    {
      "name": "tower_type",
      "type": "dropdown",
      "options": ["gun", "laser", "freeze", "splash"],
      "default": "gun"
    },
    {"name": "level", "type": "int", "default": 1, "min": 1, "max": 5},
    {"name": "damage", "type": "float", "default": 25.0},
    {"name": "range", "type": "float", "default": 150.0},
    {"name": "fire_rate", "type": "float", "default": 2.0}
  ]
}
```

---

#### 2.4 Logicãƒãƒ¼ãƒ‰ (IFæ¡ä»¶åˆ†å²)

**ãƒãƒ¼ãƒ‰æ§‹é€ **:

```json
{
  "node_type": "logic_if",
  "display_name": "IFæ¡ä»¶",
  "category": "logic",
  "color": "#E2A04A",
  "inputs": [
    {"name": "trigger", "type": "flow"},
    {"name": "condition", "type": "boolean"}
  ],
  "outputs": [
    {"name": "true_flow", "type": "flow"},
    {"name": "false_flow", "type": "flow"}
  ],
  "properties": [
    {
      "name": "condition_type",
      "type": "dropdown",
      "options": ["hp_below", "gold_above", "wave_greater", "custom"],
      "default": "hp_below"
    },
    {"name": "threshold_value", "type": "float", "default": 50.0}
  ]
}
```

---

### 3. ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿APIï¼ˆDraw.ioé¢¨ï¼‰

#### 3.1 ãƒ‘ã‚¹æç”»

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "draw_path_001",
  "type": "map_path_draw",
  "data": {
    "path_id": "path_main",
    "draw_mode": "bezier",
    "waypoints": [
      {"x": 100, "y": 360, "control": "auto"},
      {"x": 400, "y": 100, "control": {"x": 350, "y": 200}},
      {"x": 800, "y": 400, "control": "auto"},
      {"x": 1200, "y": 360, "control": "auto"}
    ],
    "style": {
      "width": 80,
      "color": "#8B7355",
      "smoothing": 0.5
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (å³åº§ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”Ÿæˆ):

```json
{
  "id": "draw_path_001",
  "status": "success",
  "data": {
    "path_id": "path_main",
    "total_length": 1250.5,
    "waypoint_count": 4,
    "preview_svg": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD...",
    "game_path_data": {
      "segments": 45,
      "points": [...]
    }
  }
}
```

---

#### 3.2 ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…ç½®ï¼ˆã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ï¼‰

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "place_obj_001",
  "type": "map_object_place",
  "data": {
    "object_type": "tower_slot",
    "position": {"x": 500, "y": 300},
    "snap_to_grid": true,
    "grid_size": 20,
    "layer": "interactive"
  }
}
```

    "entity_id": "tower_e001",
    "applied_updates": {
      "position": {"x": 520, "y": 310},
      "damage": 30.0,
      "range": 180.0
    },
    "reflection_time_ms": 145
  }
}

```

---

#### 1.3 Entityå‰Šé™¤

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "del_tower_e001",
  "type": "entity_delete",
  "data": {
    "entity_id": "tower_e001"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "del_tower_e001",
  "status": "success",
  "data": {
    "deleted_entity_id": "tower_e001"
  }
}
```

---

#### 1.4 å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å–å¾—

**REST API**:

```
GET /api/design/entities
Content-Type: application/json
Authorization: Bearer dev-mode

Query Parameters:
  - filter: "tower|enemy|ui|all"
  - map_id: "map_001" (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (200 OK):

```json
{
  "status": "success",
  "timestamp": 1733355600000,
  "entities": [
    {
      "entity_id": "tower_e001",
      "type": "tower",
      "config": {
        "position": {"x": 500, "y": 300},
        "tower_type": "gun",
        "level": 1,
        "range": 150.0,
        "damage": 25.5,
        "fire_rate": 2.0,
        "cost": 500
      },
      "created_at": 1733355600000
    },
    {
      "entity_id": "enemy_e002",
      "type": "enemy",
      "config": {
        "enemy_type": "basic",
        "level": 1,
        "hp": 100,
        "speed": 3.5
      }
    }
  ],
  "total": 2
}
```

---

### 2. ãƒãƒƒãƒ—ç®¡ç†

#### 2.1 ãƒãƒƒãƒ—ç”Ÿæˆ

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "gen_map_001",
  "type": "map_generate",
  "data": {
    "map_config": {
      "name": "Stage1-Easy",
      "width": 1280,
      "height": 720,
      "path_type": "zigzag",        // zigzag, spiral, linear, custom
      "waypoints": [
        {"x": 100, "y": 360},
        {"x": 400, "y": 100},
        {"x": 800, "y": 400},
        {"x": 1200, "y": 360}
      ],
      "terrain": {
        "grass_color": "#90EE90",
        "path_color": "#8B7355"
      }
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (ã‚²ãƒ¼ãƒ ç”»é¢ã«å³åº§ã«åæ˜ ):

```json
{
  "id": "gen_map_001",
  "status": "success",
  "data": {
    "map_id": "map_001",
    "name": "Stage1-Easy",
    "waypoints": [...],
    "preview_url": "/api/design/map/map_001/preview",
    "saved_to": "assets/definitions/stages/map_001.json"
  }
}
```

---

#### 2.2 ã‚¦ã‚§ã‚¤ãƒã‚¤ãƒ³ãƒˆç·¨é›†

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "edit_waypoint_001",
  "type": "map_waypoint_update",
  "data": {
    "map_id": "map_001",
    "waypoint_index": 1,
    "new_position": {"x": 420, "y": 120}
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "edit_waypoint_001",
  "status": "success",
  "data": {
    "map_id": "map_001",
    "waypoints": [
      {"x": 100, "y": 360},
      {"x": 420, "y": 120},
      {"x": 800, "y": 400},
      {"x": 1200, "y": 360}
    ],
    "path_preview_url": "/api/design/map/map_001/path"
  }
}
```

---

### 3. ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†

#### 3.1 ã‚²ãƒ¼ãƒ çŠ¶æ…‹å–å¾—

**REST API**:

```
GET /api/design/gamestate
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "status": "success",
  "gamestate": {
    "is_playing": false,
    "current_wave": 3,
    "total_waves": 10,
    "hp": 50,
    "max_hp": 100,
    "gold": 2500,
    "income_per_wave": 300,
    "enemies_active": 8,
    "enemies_killed": 42,
    "towers_placed": 5
  }
}
```

---

#### 3.2 ã‚²ãƒ¼ãƒ åˆ¶å¾¡

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸** (ã‚²ãƒ¼ãƒ é–‹å§‹):

```json
{
  "id": "cmd_start_001",
  "type": "game_control",
  "data": {
    "action": "start",
    "map_id": "map_001"
  }
}
```

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸** (ã‚¦ã‚§ãƒ¼ãƒ–é€²è¡Œ):

```json
{
  "id": "cmd_next_wave",
  "type": "game_control",
  "data": {
    "action": "next_wave"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "cmd_next_wave",
  "status": "success",
  "data": {
    "current_wave": 4,
    "enemies_spawning": 15,
    "message": "Wave 4 started"
  }
}
```

---

### 4. UIè¦ç´ ç®¡ç†

#### 4.1 UIè¦ç´ é…ç½®

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "add_ui_btn_001",
  "type": "ui_add",
  "data": {
    "ui_type": "button",
    "config": {
      "id": "btn_upgrade",
      "position": {"x": 1600, "y": 100},
      "size": {"width": 200, "height": 50},
      "label": "ã‚¿ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
      "font_size": 16,
      "color": {"r": 200, "g": 100, "b": 50, "a": 255},
      "on_click": "tower_upgrade"
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "add_ui_btn_001",
  "status": "success",
  "data": {
    "ui_element_id": "ui_btn_001",
    "position": {"x": 1600, "y": 100},
    "saved_to": "assets/definitions/ui/buttons.json"
  }
}
```

---

#### 4.2 UIè¦ç´ ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "style_ui_btn_001",
  "type": "ui_style_update",
  "data": {
    "ui_element_id": "ui_btn_001",
    "style_updates": {
      "font_size": 18,
      "color": {"r": 255, "g": 150, "b": 50, "a": 255},
      "position": {"x": 1620, "y": 110}
    }
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "id": "style_ui_btn_001",
  "status": "success",
  "data": {
    "ui_element_id": "ui_btn_001",
    "applied_styles": {...},
    "reflection_time_ms": 234
  }
}
```

---

## ğŸ¨ WebUI ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ (FHD: 1920x1080)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚                 â”‚                â”‚
â”‚  å·¦ãƒ‘ãƒãƒ« (30% = 576px)              â”‚ ä¸­å¤®ãƒ‘ãƒãƒ« (40%)â”‚ å³ãƒ‘ãƒãƒ« (30%) â”‚
â”‚                                      â”‚ = 768px         â”‚ = 576px        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚                 â”‚                â”‚
â”‚ ğŸ“‹ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†                  â”‚                 â”‚ ğŸ® ã‚²ãƒ¼ãƒ æ“ä½œ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ â”Œâ”€ ã‚¿ãƒ¯ãƒ¼ [+] [-]                   â”‚                 â”‚ [é–‹å§‹] [åœæ­¢]  â”‚
â”‚ â”‚  â€¢ tower_e001                    â”‚                 â”‚ [ãƒªã‚»ãƒƒãƒˆ]     â”‚
â”‚ â”‚    > ã‚¬ãƒ³ç ²å°                     â”‚ ã‚²ãƒ¼ãƒ ç”»é¢      â”‚               â”‚
â”‚ â”‚    > HP: 100                      â”‚ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼      â”‚ ğŸ“Š çŠ¶æ…‹       â”‚
â”‚ â”‚  â€¢ tower_e002                    â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ â”‚    > ãƒ¬ãƒ¼ã‚¶ãƒ¼                     â”‚ (1920x1080ã‚²ãƒ¼ãƒ ç”»é¢ â”‚ Wave: 3/10  â”‚
â”‚ â”‚                                   â”‚ ã‚’WebUIã«       â”‚ HP: 50/100   â”‚
â”‚ â”Œâ”€ æ•µ [+]                           â”‚ å°çª“ã§è¡¨ç¤º)     â”‚ é‡‘: 2500      â”‚
â”‚ â”‚  â€¢ enemy_e001                     â”‚                 â”‚ æ•µ: 8         â”‚
â”‚ â”‚  â€¢ enemy_e002                     â”‚                 â”‚               â”‚
â”‚ â”‚                                   â”‚                 â”‚ ğŸŒŠ Waveè¨­å®š  â”‚
â”‚ â”Œâ”€ æ•µè¨­å®š [+]                       â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ â”‚  â€¢ Basic [ç·¨é›†] [å‰Šé™¤]            â”‚                 â”‚ æ•µæ•°: [15]  â”‚
â”‚ â”‚  â€¢ Speed: 3.5                     â”‚ (ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•) â”‚ é…ç½®: [ãƒ©ãƒ³ãƒ€â”‚
â”‚ â”‚  â€¢ HP: 100                        â”‚ (ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ) â”‚ é›£æ˜“åº¦:[Hard]â”‚
â”‚ â”‚                                   â”‚ (å‰Šé™¤ã‚­ãƒ¼ã§å‰Šé™¤) â”‚               â”‚
â”‚ ğŸ“ ãƒãƒƒãƒ—ç®¡ç†                        â”‚                 â”‚ ğŸ”§ ãƒ‡ãƒãƒƒã‚°  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚                 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ [æ–°è¦ç”Ÿæˆ] [ç·¨é›†]                   â”‚                 â”‚ JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚ é¸æŠ: map_001                       â”‚                 â”‚ ãƒ­ã‚°ã‚¯ãƒªã‚¢    â”‚
â”‚ â”Œâ”€ Waypoint                        â”‚                 â”‚ å†èª­è¾¼        â”‚
â”‚ â”‚  1. (100, 360)                   â”‚                 â”‚               â”‚
â”‚ â”‚  2. (400, 100)  [ç§»å‹•] [å‰Šé™¤]    â”‚                 â”‚               â”‚
â”‚ â”‚  3. (800, 400)  [ç§»å‹•] [å‰Šé™¤]    â”‚                 â”‚               â”‚
â”‚ â”‚  4. (1200, 360) [ç§»å‹•] [å‰Šé™¤]    â”‚                 â”‚               â”‚
â”‚ â”‚  [+ è¿½åŠ ]                        â”‚                 â”‚               â”‚
â”‚                                      â”‚                 â”‚                â”‚
â”‚ ğŸ’¾ ã‚¯ã‚¤ãƒƒã‚¯ä¿å­˜                      â”‚                 â”‚                â”‚
â”‚ [å…¨ã¦ä¿å­˜] [Auto-Save: ON]          â”‚                 â”‚                â”‚
â”‚                                      â”‚                 â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ãƒ©ã‚¤ãƒ–ãƒ­ã‚°                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [14:32:15] Entityè¿½åŠ : tower_e001 at (500, 300)                         â”‚
â”‚ [14:32:18] Waypointæ›´æ–°: map_001 point 2 â†’ (420, 120)                   â”‚
â”‚ [14:32:45] Wave 4 é–‹å§‹: æ•µ15ä½“                                           â”‚
â”‚ [14:33:12] Enemyæ’ƒç ´: enemy_e002 by tower_e001                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜

### ãƒãƒ¼ãƒ‰ã‚­ãƒ£ãƒ³ãƒã‚¹æ“ä½œï¼ˆComfyUI/NodeREDé¢¨ï¼‰

#### ãƒã‚¦ã‚¹ãƒ»ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ

**åŸºæœ¬æ“ä½œ**:

```
â€¢ å·¦ã‚¯ãƒªãƒƒã‚¯: ãƒãƒ¼ãƒ‰é¸æŠ
â€¢ Ctrl + å·¦ã‚¯ãƒªãƒƒã‚¯: è¤‡æ•°é¸æŠ
â€¢ ä¸­ã‚¯ãƒªãƒƒã‚¯ or Space + ãƒ‰ãƒ©ãƒƒã‚°: ã‚­ãƒ£ãƒ³ãƒã‚¹ãƒ‘ãƒ³
â€¢ ãƒ›ã‚¤ãƒ¼ãƒ«: ã‚ºãƒ¼ãƒ  (25% - 400%)
â€¢ Delete: é¸æŠãƒãƒ¼ãƒ‰/æ¥ç¶šå‰Šé™¤
â€¢ Ctrl + C/V: ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ
â€¢ Ctrl + Z/Y: Undo/Redo
â€¢ Ctrl + D: é¸æŠãƒãƒ¼ãƒ‰è¤‡è£½
â€¢ Ctrl + F: ãƒãƒ¼ãƒ‰æ¤œç´¢
```

**æ¥ç¶šæ“ä½œ**:

```
â€¢ å‡ºåŠ›ç«¯å­ã‚’ãƒ‰ãƒ©ãƒƒã‚° â†’ å…¥åŠ›ç«¯å­ã«ãƒ‰ãƒ­ãƒƒãƒ—: æ¥ç¶šä½œæˆ
â€¢ æ¥ç¶šç·šã‚’ã‚¯ãƒªãƒƒã‚¯: æ¥ç¶šé¸æŠ
â€¢ æ¥ç¶šç·šã‚’å³ã‚¯ãƒªãƒƒã‚¯: å‰Šé™¤
â€¢ äº’æ›æ€§ã®ãªã„æ¥ç¶š: èµ¤ãè¡¨ç¤ºï¼ˆæ¥ç¶šä¸å¯ï¼‰
```

**ãƒãƒ¼ãƒ‰é…ç½®**:

```
â€¢ ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰ãƒ‰ãƒ©ãƒƒã‚°: æ–°è¦ãƒãƒ¼ãƒ‰é…ç½®
â€¢ ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ç©ºç™½: ã‚¯ã‚¤ãƒƒã‚¯è¿½åŠ ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â€¢ å³ã‚¯ãƒªãƒƒã‚¯ç©ºç™½: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼
â€¢ Shift + ãƒ‰ãƒ©ãƒƒã‚°: ç›´ç·šç§»å‹•ï¼ˆã‚¹ãƒŠãƒƒãƒ—ï¼‰
â€¢ Alt + ãƒ‰ãƒ©ãƒƒã‚°: è‡ªç”±ç§»å‹•ï¼ˆã‚¹ãƒŠãƒƒãƒ—ãªã—ï¼‰
```

---

### ãƒãƒ¼ãƒ‰è¦–è¦šãƒ‡ã‚¶ã‚¤ãƒ³

#### ãƒãƒ¼ãƒ‰æ§‹é€ ï¼ˆDraw.ioé¢¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Wave Start                        â”‚  â† ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚«ãƒ†ã‚´ãƒªã‚«ãƒ©ãƒ¼ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”µ Trigger    â—¯ Flow         ğŸ”´    â”‚  â† å…¥å‡ºåŠ›ç«¯å­
â”‚ ğŸ”µ Previous   â—¯ Wave Data    ğŸŸ¡    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Waveç•ªå·:  [  1  ] â–¾               â”‚  â† ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
â”‚ æ•µæ•°:      [ 10  ]                 â”‚
â”‚ é–“éš”(ç§’):  [ 2.0 ]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš¡ å®Ÿè¡Œä¸­ | â±ï¸ 125ms              â”‚  â† ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰:
â€¢ ğŸ”µ Flowå…¥åŠ›: #4A90E2
â€¢ ğŸ”´ Flowå‡ºåŠ›: #E24A90
â€¢ ğŸŸ¡ Dataå‡ºåŠ›: #E2A04A
â€¢ ğŸŸ¢ Eventå‡ºåŠ›: #4AE290
```

#### æ¥ç¶šç·šã‚¹ã‚¿ã‚¤ãƒ«

```
Flowæ¥ç¶š:     â”â”â”â”â”â”â”â”â†’  (å¤ªç·šã€ã‚«ãƒ¼ãƒ–)
Dataæ¥ç¶š:     â”€ â”€ â”€ â”€â†’  (ç‚¹ç·šã€ç›´ç·š)
Eventæ¥ç¶š:    ï½ï½ï½ï½â†’  (æ³¢ç·šã€ã‚«ãƒ¼ãƒ–)

å®Ÿè¡Œä¸­:       â”â”â”â”â”â”â”â”â†’  (ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)
ã‚¨ãƒ©ãƒ¼:       â•³â•³â•³â•³â•³â•³â•³â†’  (èµ¤ç‚¹æ»…)
```

---

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ—ãƒªã‚»ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ 

#### ãƒ—ãƒªã‚»ãƒƒãƒˆãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ1: åŸºæœ¬Waveè¨­å®š**

```
[Wave Start] â”€â”€â†’ [Enemy Spawn] â”€â”€â†’ [Path Follow] â”€â”€â†’ [HP Check]
     â”‚                                                      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ [UI Update] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ2: ãƒœã‚¹æˆ¦**

```
[Wave Start] â”€â”€â†’ [Boss Spawn] â”€â”€â†’ [Music Change]
     â”‚                â”‚
     â”‚                â””â”€â”€â†’ [Camera Zoom]
     â”‚
     â””â”€â”€â†’ [UI Boss HP Bar] â”€â”€â†’ [Phase Check]
                                     â”‚
                                     â”œâ”€â”€â†’ [Phase 2 Trigger]
                                     â””â”€â”€â†’ [Phase 3 Trigger]
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ3: ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰**

```
[Loop Start] â”€â”€â†’ [Wave Increment] â”€â”€â†’ [Difficulty Scale]
     â†‘                                        â”‚
     â”‚                                        â–¼
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ [Enemy Spawn]
```

#### ãƒ—ãƒªã‚»ãƒƒãƒˆä¿å­˜ãƒ»èª­ã¿è¾¼ã¿

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:

```json
{
  "id": "save_template_001",
  "type": "template_save",
  "data": {
    "template_name": "Custom Boss Battle",
    "description": "3æ®µéšãƒœã‚¹æˆ¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",
    "category": "boss_battles",
    "graph_data": {
      "nodes": [...],
      "connections": [...]
    },
    "thumbnail": "data:image/png;base64,..."
  }
}
```

---

### ãƒ©ã‚¤ãƒ–ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½

#### ãƒãƒ¼ãƒ‰å®Ÿè¡Œå¯è¦–åŒ–

**å®Ÿè¡ŒçŠ¶æ…‹è¡¨ç¤º**:

```
å¾…æ©Ÿä¸­:    [Node]        (ã‚°ãƒ¬ãƒ¼)
å®Ÿè¡Œä¸­:    [Node]        (ç·‘ç‚¹æ»…)
å®Œäº†:      [Node] âœ“      (ç·‘)
ã‚¨ãƒ©ãƒ¼:    [Node] âœ—      (èµ¤)
ã‚¹ã‚­ãƒƒãƒ—:  [Node] âŠ˜      (é»„è‰²)
```

**ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å¯è¦–åŒ–**:

```
[Wave Start] â”€â”€{wave:1, enemies:10}â”€â”€â†’ [Spawn]
                                          â”‚
                          {spawned_count:3, remaining:7}
                                          â–¼
                                      [Path Follow]
```

#### ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ

**è¨­å®šæ–¹æ³•**:

```
ãƒãƒ¼ãƒ‰ã‚’å³ã‚¯ãƒªãƒƒã‚¯ â†’ "ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®š"
ã¾ãŸã¯ ãƒãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ F9
```

**å‹•ä½œ**:

```
1. ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã§ã‚°ãƒ©ãƒ•å®Ÿè¡ŒãŒä¸€æ™‚åœæ­¢
2. ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ã«ç¾åœ¨ã®å¤‰æ•°å€¤ã‚’è¡¨ç¤º
3. ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œï¼ˆF10ï¼‰ã€ç¶šè¡Œï¼ˆF5ï¼‰ã€åœæ­¢ï¼ˆShift+F5ï¼‰
```

---

## ğŸ› ï¸ Reactå®Ÿè£…ä»•æ§˜ï¼ˆãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
src/components/DevTools/NodeEditor/
â”œâ”€â”€ NodeCanvas.tsx                    # ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒã‚¹
â”‚   â”œâ”€â”€ useNodeGraph.ts              # ã‚°ãƒ©ãƒ•çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ useNodeDragDrop.ts           # ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
â”‚   â””â”€â”€ useNodeConnection.ts         # æ¥ç¶šç®¡ç†
â”œâ”€â”€ Node.tsx                         # å€‹åˆ¥ãƒãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ NodeHeader.tsx               # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ NodeBody.tsx                 # ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
â”‚   â”œâ”€â”€ NodePort.tsx                 # å…¥å‡ºåŠ›ç«¯å­
â”‚   â””â”€â”€ NodeStatus.tsx               # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
â”œâ”€â”€ Connection.tsx                   # æ¥ç¶šç·šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ ConnectionPath.tsx           # SVGãƒ‘ã‚¹ç”Ÿæˆ
â”œâ”€â”€ NodePalette.tsx                  # ãƒãƒ¼ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ
â”‚   â”œâ”€â”€ NodeCategory.tsx             # ã‚«ãƒ†ã‚´ãƒª
â”‚   â””â”€â”€ NodePreview.tsx              # ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”œâ”€â”€ PropertyInspector.tsx            # ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿
â”œâ”€â”€ DebugPanel.tsx                   # ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«
â””â”€â”€ TemplateLibrary.tsx              # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†
```

### ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®š

**æ¨å¥¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**:

```typescript
// ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã‚³ã‚¢
import ReactFlow from 'reactflow';  // ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹UI
import 'reactflow/dist/style.css';

// ã¾ãŸã¯
import { Canvas } from '@xyflow/react';  // è»½é‡ç‰ˆ

// ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³
import { Graph } from 'graphlib';        // ã‚°ãƒ©ãƒ•æ§‹é€ ç®¡ç†

// æç”»
import { Stage, Layer, Line, Circle } from 'react-konva';  // Canvasæç”»

// çŠ¶æ…‹ç®¡ç†
import { create } from 'zustand';        // çŠ¶æ…‹ç®¡ç†
```

### ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šãƒãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```tsx
// Node.tsx
import React from 'react';
import { Handle, Position } from 'reactflow';

interface NodeProps {
  id: string;
  data: {
    label: string;
    nodeType: string;
    properties: Record<string, any>;
    status: 'idle' | 'running' | 'completed' | 'error';
  };
  selected: boolean;
}

export const CustomNode: React.FC<NodeProps> = ({ id, data, selected }) => {
  const categoryColor = getCategoryColor(data.nodeType);
  
  return (
    <div 
      className={`node ${data.status} ${selected ? 'selected' : ''}`}
      style={{ borderColor: categoryColor }}
    >
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="node-header" style={{ backgroundColor: categoryColor }}>
        <span className="node-icon">{getNodeIcon(data.nodeType)}</span>
        <span className="node-label">{data.label}</span>
      </div>
      
      {/* å…¥åŠ›ç«¯å­ */}
      {data.inputs?.map((input, idx) => (
        <Handle
          key={`in-${idx}`}
          type="target"
          position={Position.Left}
          id={input.name}
          style={{ top: 40 + idx * 30 }}
        />
      ))}
      
      {/* ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿ */}
      <div className="node-body">
        {Object.entries(data.properties).map(([key, value]) => (
          <PropertyField
            key={key}
            name={key}
            value={value}
            onChange={(newValue) => updateNodeProperty(id, key, newValue)}
          />
        ))}
      </div>
      
      {/* å‡ºåŠ›ç«¯å­ */}
      {data.outputs?.map((output, idx) => (
        <Handle
          key={`out-${idx}`}
          type="source"
          position={Position.Right}
          id={output.name}
          style={{ top: 40 + idx * 30 }}
        />
      ))}
      
      {/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ */}
      <div className="node-status">
        {data.status === 'running' && 'âš¡ å®Ÿè¡Œä¸­'}
        {data.status === 'completed' && 'âœ“ å®Œäº†'}
        {data.status === 'error' && 'âœ— ã‚¨ãƒ©ãƒ¼'}
      </div>
    </div>
  );
};
```

### ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šWebSocketçµ±åˆ

```tsx
// useNodeGraphSync.ts
import { useEffect, useCallback } from 'react';
import { useWebSocket } from './useWebSocket';

export const useNodeGraphSync = () => {
  const { send, lastMessage, connectionStatus } = useWebSocket('ws://localhost:8080/ws/designer');
  
  // ãƒãƒ¼ãƒ‰è¿½åŠ 
  const addNode = useCallback((nodeType: string, position: { x: number; y: number }) => {
    send({
      id: `add_node_${Date.now()}`,
      type: 'node_add',
      data: {
        node_type: nodeType,
        position: position
      }
    });
  }, [send]);
  
  // ãƒãƒ¼ãƒ‰æ¥ç¶š
  const connectNodes = useCallback((fromNode: string, toNode: string) => {
    send({
      id: `connect_${Date.now()}`,
      type: 'node_connect',
      data: {
        from_node: fromNode,
        to_node: toNode
      }
    });
  }, [send]);
  
  // ã‚°ãƒ©ãƒ•å®Ÿè¡Œ
  const executeGraph = useCallback((startNode?: string) => {
    send({
      id: `exec_${Date.now()}`,
      type: 'graph_execute',
      data: {
        start_node: startNode,
        debug_mode: true
      }
    });
  }, [send]);
  
  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹åŒæœŸ
  useEffect(() => {
    if (lastMessage) {
      const data = JSON.parse(lastMessage.data);
      
      if (data.type === 'node_status_update') {
        // ãƒãƒ¼ãƒ‰çŠ¶æ…‹æ›´æ–°ã‚’åæ˜ 
        updateNodeStatus(data.data.node_id, data.data.status);
      }
    }
  }, [lastMessage]);
  
  return {
    addNode,
    connectNodes,
    executeGraph,
    connectionStatus
  };
};
```

---

## ğŸ“ ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆDraw.ioé¢¨ï¼‰

### ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—ºï¸ ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  ãƒ„ãƒ¼ãƒ«ãƒãƒ¼: [é¸æŠ] [ãƒ‘ã‚¹] [çŸ©å½¢] [å††] [ãƒ†ã‚­ã‚¹ãƒˆ] [æ¶ˆã—ã‚´ãƒ ]  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚         ã‚°ãƒªãƒƒãƒ‰ (20x20px)                                â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚    [Start]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚                                            â”‚              â”‚ â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚              â”‚ â”‚
â”‚  â”‚                    â”‚  Obstacle â”‚          â–¼              â”‚ â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      [Waypoint1]        â”‚ â”‚
â”‚  â”‚                                            â”‚              â”‚ â”‚
â”‚  â”‚         [Tower Slot]                       â”‚              â”‚ â”‚
â”‚  â”‚             âŠ•                              â–¼              â”‚ â”‚
â”‚  â”‚                                        [Waypoint2]â”€â”€â”€â”€â”€â”€â†’ [Goal]
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚    ãƒ¬ã‚¤ãƒ¤ãƒ¼: [åœ°å½¢] [ãƒ‘ã‚¹] [é…ç½®å¯èƒ½] [è£…é£¾]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:                                                   â”‚
â”‚  â€¢ ã‚°ãƒªãƒƒãƒ‰ã‚µã‚¤ã‚º: [20px]                                      â”‚
â”‚  â€¢ ã‚¹ãƒŠãƒƒãƒ—: [ON]                                              â”‚
â”‚  â€¢ ãƒ¬ã‚¤ãƒ¤ãƒ¼: [ãƒ‘ã‚¹]                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«

**ãƒ™ã‚¸ã‚§æ›²ç·šãƒ‘ã‚¹**:

```typescript
interface PathDrawTool {
  mode: 'linear' | 'bezier' | 'freehand';
  waypoints: Vector2[];
  controlPoints?: Vector2[];
  smoothing: number; // 0.0 - 1.0
}

// ä½¿ç”¨ä¾‹
const drawPath = (tool: PathDrawTool) => {
  const path = new Path({
    points: tool.waypoints,
    curve: tool.mode === 'bezier',
    smoothing: tool.smoothing
  });
  
  // ã‚²ãƒ¼ãƒ ã«é€ä¿¡
  syncPathToGame(path);
};
```

---

## ğŸ’» C++å´ãƒãƒ¼ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…

### ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³è¨­è¨ˆ

**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **:

```
include/Core/NodeGraph/
â”œâ”€â”€ NodeGraph.h                  # ã‚°ãƒ©ãƒ•ç®¡ç†
â”œâ”€â”€ Node.h                       # ãƒãƒ¼ãƒ‰åŸºåº•ã‚¯ãƒ©ã‚¹
â”œâ”€â”€ NodeExecutor.h               # å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
â”œâ”€â”€ NodeRegistry.h               # ãƒãƒ¼ãƒ‰ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ 
â””â”€â”€ NodeTypes/
    â”œâ”€â”€ WaveNode.h              # Waveç³»ãƒãƒ¼ãƒ‰
    â”œâ”€â”€ SpawnNode.h             # Spawnç³»ãƒãƒ¼ãƒ‰
    â”œâ”€â”€ LogicNode.h             # Logicç³»ãƒãƒ¼ãƒ‰
    â””â”€â”€ EventNode.h             # Eventç³»ãƒãƒ¼ãƒ‰

src/Core/NodeGraph/
â”œâ”€â”€ NodeGraph.cpp
â”œâ”€â”€ NodeExecutor.cpp
â””â”€â”€ NodeTypes/
    â”œâ”€â”€ WaveNode.cpp
    â”œâ”€â”€ SpawnNode.cpp
    â”œâ”€â”€ LogicNode.cpp
    â””â”€â”€ EventNode.cpp
```

### ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šãƒãƒ¼ãƒ‰åŸºåº•ã‚¯ãƒ©ã‚¹

```cpp
// include/Core/NodeGraph/Node.h
#pragma once
#include <string>
#include <vector>
#include <memory>
#include <nlohmann/json.hpp>

using json = nlohmann::json;

namespace Core::NodeGraph {

enum class PortType {
    Flow,    // å®Ÿè¡Œãƒ•ãƒ­ãƒ¼
    Data,    // ãƒ‡ãƒ¼ã‚¿
    Event    // ã‚¤ãƒ™ãƒ³ãƒˆ
};

enum class NodeStatus {
    Idle,
    Running,
    Completed,
    Error,
    Skipped
};

struct Port {
    std::string name;
    PortType type;
    bool isOutput;
    json value;  // ç¾åœ¨ã®å€¤
};

class Node {
public:
    Node(const std::string& id, const std::string& type)
        : id_(id), type_(type), status_(NodeStatus::Idle) {}
    
    virtual ~Node() = default;
    
    // ãƒãƒ¼ãƒ‰å®Ÿè¡Œï¼ˆã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§å®Ÿè£…ï¼‰
    virtual NodeStatus Execute(const json& inputData) = 0;
    
    // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å–å¾—ãƒ»è¨­å®š
    virtual json GetProperties() const { return properties_; }
    virtual void SetProperty(const std::string& key, const json& value) {
        properties_[key] = value;
    }
    
    // å…¥å‡ºåŠ›ãƒãƒ¼ãƒˆç®¡ç†
    void AddInputPort(const std::string& name, PortType type) {
        inputs_.push_back({name, type, false, json()});
    }
    
    void AddOutputPort(const std::string& name, PortType type) {
        outputs_.push_back({name, type, true, json()});
    }
    
    const std::vector<Port>& GetInputs() const { return inputs_; }
    const std::vector<Port>& GetOutputs() const { return outputs_; }
    
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
    NodeStatus GetStatus() const { return status_; }
    void SetStatus(NodeStatus status) { status_ = status; }
    
    // ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
    virtual json Serialize() const {
        return {
            {"id", id_},
            {"type", type_},
            {"properties", properties_},
            {"status", static_cast<int>(status_)}
        };
    }
    
    std::string GetId() const { return id_; }
    std::string GetType() const { return type_; }
    
protected:
    std::string id_;
    std::string type_;
    NodeStatus status_;
    json properties_;
    std::vector<Port> inputs_;
    std::vector<Port> outputs_;
};

} // namespace Core::NodeGraph
```

### ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šWave Startãƒãƒ¼ãƒ‰

```cpp
// include/Core/NodeGraph/NodeTypes/WaveNode.h
#pragma once
#include "../Node.h"
#include "Core/GameContext.h"

namespace Core::NodeGraph {

class WaveStartNode : public Node {
public:
    WaveStartNode(const std::string& id, GameContext& context)
        : Node(id, "wave_start"), context_(context) {
        
        // å…¥åŠ›ãƒãƒ¼ãƒˆ
        AddInputPort("trigger", PortType::Flow);
        AddInputPort("previous_wave", PortType::Data);
        
        // å‡ºåŠ›ãƒãƒ¼ãƒˆ
        AddOutputPort("flow", PortType::Flow);
        AddOutputPort("wave_data", PortType::Data);
        
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
        properties_ = {
            {"wave_number", 1},
            {"enemy_count", 10},
            {"spawn_interval", 2.0}
        };
    }
    
    NodeStatus Execute(const json& inputData) override {
        SetStatus(NodeStatus::Running);
        
        try {
            int waveNumber = properties_["wave_number"];
            int enemyCount = properties_["enemy_count"];
            float spawnInterval = properties_["spawn_interval"];
            
            // ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã« Wave æƒ…å ±ã‚’è¨­å®š
            context_.SetCurrentWave(waveNumber);
            context_.SetEnemyCount(enemyCount);
            
            std::cout << "WaveStartNode: Starting Wave " << waveNumber 
                     << " with " << enemyCount << " enemies\n";
            
            // å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿æº–å‚™
            outputs_[1].value = {
                {"wave_number", waveNumber},
                {"enemy_count", enemyCount},
                {"spawn_interval", spawnInterval}
            };
            
            SetStatus(NodeStatus::Completed);
            return NodeStatus::Completed;
            
        } catch (const std::exception& e) {
            std::cerr << "WaveStartNode Error: " << e.what() << "\n";
            SetStatus(NodeStatus::Error);
            return NodeStatus::Error;
        }
    }
    
private:
    GameContext& context_;
};

} // namespace Core::NodeGraph
```

### ã‚³ãƒ¼ãƒ‰ä¾‹ï¼šã‚°ãƒ©ãƒ•å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³

```cpp
// include/Core/NodeGraph/NodeExecutor.h
#pragma once
#include "NodeGraph.h"
#include <queue>
#include <unordered_map>

namespace Core::NodeGraph {

class NodeExecutor {
public:
    NodeExecutor(NodeGraph& graph) : graph_(graph) {}
    
    // ã‚°ãƒ©ãƒ•å®Ÿè¡Œ
    void Execute(const std::string& startNodeId, bool debugMode = false) {
        debugMode_ = debugMode;
        executionLog_.clear();
        
        // é–‹å§‹ãƒãƒ¼ãƒ‰ã‹ã‚‰å®Ÿè¡Œ
        auto startNode = graph_.GetNode(startNodeId);
        if (!startNode) {
            std::cerr << "Start node not found: " << startNodeId << "\n";
            return;
        }
        
        ExecuteNode(startNode, json());
    }
    
    // ãƒãƒ¼ãƒ‰ã‚’å®Ÿè¡Œï¼ˆå†å¸°çš„ï¼‰
    void ExecuteNode(std::shared_ptr<Node> node, const json& inputData) {
        if (!node) return;
        
        auto startTime = std::chrono::high_resolution_clock::now();
        
        // ãƒãƒ¼ãƒ‰å®Ÿè¡Œ
        NodeStatus status = node->Execute(inputData);
        
        auto endTime = std::chrono::high_resolution_clock::now();
        auto duration = std::chrono::duration_cast<std::chrono::milliseconds>(
            endTime - startTime).count();
        
        // ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¨˜éŒ²
        if (debugMode_) {
            executionLog_.push_back({
                {"node_id", node->GetId()},
                {"status", static_cast<int>(status)},
                {"execution_time_ms", duration},
                {"output", node->GetOutputs()[0].value}
            });
        }
        
        // æˆåŠŸæ™‚ã¯æ¬¡ã®ãƒãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
        if (status == NodeStatus::Completed) {
            auto connections = graph_.GetConnections(node->GetId());
            
            for (const auto& conn : connections) {
                auto nextNode = graph_.GetNode(conn.toNodeId);
                if (nextNode) {
                    // å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’æ¬¡ãƒãƒ¼ãƒ‰ã«æ¸¡ã™
                    json outputData = node->GetOutputs()[0].value;
                    ExecuteNode(nextNode, outputData);
                }
            }
        }
    }
    
    // å®Ÿè¡Œãƒ­ã‚°å–å¾—
    std::vector<json> GetExecutionLog() const { return executionLog_; }
    
private:
    NodeGraph& graph_;
    bool debugMode_ = false;
    std::vector<json> executionLog_;
};

} // namespace Core::NodeGraph
```

### WebSocketçµ±åˆ

```cpp
// src/Core/HTTPServer.cpp (ãƒãƒ¼ãƒ‰APIè¿½åŠ éƒ¨åˆ†)

void HTTPServer::HandleNodeMessage(const json& message) {
    std::string type = message["type"];
    
    if (type == "node_add") {
        // ãƒãƒ¼ãƒ‰è¿½åŠ 
        auto nodeId = nodeGraph_->AddNode(
            message["data"]["node_type"],
            message["data"]["position"]
        );
        
        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡
        json response = {
            {"id", message["id"]},
            {"status", "success"},
            {"data", {
                {"node_id", nodeId},
                {"node_type", message["data"]["node_type"]}
            }}
        };
        BroadcastToDesigners(response);
        
    } else if (type == "node_connect") {
        // ãƒãƒ¼ãƒ‰æ¥ç¶š
        nodeGraph_->Connect(
            message["data"]["from_node"],
            message["data"]["to_node"]
        );
        
        json response = {
            {"id", message["id"]},
            {"status", "success"}
        };
        BroadcastToDesigners(response);
        
    } else if (type == "graph_execute") {
        // ã‚°ãƒ©ãƒ•å®Ÿè¡Œ
        nodeExecutor_->Execute(
            message["data"]["start_node"],
            message["data"]["debug_mode"]
        );
        
        // å®Ÿè¡Œãƒ­ã‚°ã‚’è¿”ã™
        json response = {
            {"id", message["id"]},
            {"status", "success"},
            {"data", {
                {"execution_log", nodeExecutor_->GetExecutionLog()}
            }}
        };
        BroadcastToDesigners(response);
    }
}
```

---

## ğŸ“‹ æ”¹å–„ç‰ˆå®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ãƒ•ã‚§ãƒ¼ã‚º 1: ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿åŸºç›¤ (3æ™‚é–“)

#### 1.1 C++ ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³ (1.5æ™‚é–“)

**å®Ÿè£…é …ç›®**:

- [ ] Node åŸºåº•ã‚¯ãƒ©ã‚¹å®Ÿè£…
- [ ] NodeGraph ã‚°ãƒ©ãƒ•ç®¡ç†
- [ ] NodeExecutor å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
- [ ] åŸºæœ¬ãƒãƒ¼ãƒ‰å®Ÿè£…ï¼ˆWave, Spawn, Logicï¼‰
- [ ] JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] WebSocketçµ±åˆ

---

#### 1.2 React ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿UI (1.5æ™‚é–“)

**å®Ÿè£…é …ç›®**:

- [ ] ReactFlow çµ±åˆ
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] ãƒãƒ¼ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆå®Ÿè£…
- [ ] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿
- [ ] WebSocket Hook (useNodeGraphSync)
- [ ] ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—

---

### ãƒ•ã‚§ãƒ¼ã‚º 2: ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ (2æ™‚é–“)

#### 2.1 Draw.ioé¢¨ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ (2æ™‚é–“)

**å®Ÿè£…é …ç›®**:

- [ ] ã‚°ãƒªãƒƒãƒ‰ã‚­ãƒ£ãƒ³ãƒã‚¹å®Ÿè£…
- [ ] ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«ï¼ˆãƒ™ã‚¸ã‚§æ›²ç·šï¼‰
- [ ] ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…ç½®ï¼ˆã‚¹ãƒŠãƒƒãƒ—æ©Ÿèƒ½ï¼‰
- [ ] ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
- [ ] ã‚²ãƒ¼ãƒ ç”»é¢ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
- [ ] SVGã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

---

### ãƒ•ã‚§ãƒ¼ã‚º 3: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ—ãƒªã‚»ãƒƒãƒˆ (1æ™‚é–“)

#### 3.1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  (1æ™‚é–“)

**å®Ÿè£…é …ç›®**:

- [ ] ãƒ—ãƒªã‚»ãƒƒãƒˆãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ï¼ˆåŸºæœ¬Waveã€ãƒœã‚¹æˆ¦ã€ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ï¼‰
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿å­˜ãƒ»èª­ã¿è¾¼ã¿
- [ ] ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ
- [ ] ã‚«ãƒ†ã‚´ãƒªç®¡ç†

---

### ãƒ•ã‚§ãƒ¼ã‚º 4: ãƒ‡ãƒãƒƒã‚°ãƒ»æœ€é©åŒ– (1æ™‚é–“)

#### 4.1 ãƒ©ã‚¤ãƒ–ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ (1æ™‚é–“)

**å®Ÿè£…é …ç›®**:

- [ ] ãƒãƒ¼ãƒ‰å®Ÿè¡Œå¯è¦–åŒ–
- [ ] ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆæ©Ÿèƒ½
- [ ] ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œ
- [ ] å¤‰æ•°ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©

---

## ğŸ§ª æ‹¡å¼µç‰ˆãƒ†ã‚¹ãƒˆè¨ˆç”»

### ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ãƒ†ã‚¹ãƒˆ

```
ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 1: ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•æ§‹ç¯‰
â”œâ”€â”€ [1] ãƒãƒ¼ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰ãƒãƒ¼ãƒ‰ã‚’ãƒ‰ãƒ©ãƒƒã‚°
â”œâ”€â”€ [2] ã‚­ãƒ£ãƒ³ãƒã‚¹ã«é…ç½®ç¢ºèª
â”œâ”€â”€ [3] ãƒãƒ¼ãƒ‰é–“ã‚’æ¥ç¶š
â”œâ”€â”€ [4] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç·¨é›†
â”œâ”€â”€ [5] ã‚°ãƒ©ãƒ•å®Ÿè¡Œ
â””â”€â”€ [6] ã‚²ãƒ¼ãƒ ç”»é¢ã«åæ˜ ç¢ºèª

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 2: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨
â”œâ”€â”€ [1] ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼ˆåŸºæœ¬Waveï¼‰
â”œâ”€â”€ [2] ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•è‡ªå‹•ç”Ÿæˆ
â”œâ”€â”€ [3] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
â”œâ”€â”€ [4] å®Ÿè¡Œç¢ºèª
â””â”€â”€ [5] ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 3: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒãƒƒã‚°
â”œâ”€â”€ [1] ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®š
â”œâ”€â”€ [2] ã‚°ãƒ©ãƒ•å®Ÿè¡Œ
â”œâ”€â”€ [3] ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã§ä¸€æ™‚åœæ­¢
â”œâ”€â”€ [4] å¤‰æ•°å€¤ç¢ºèª
â”œâ”€â”€ [5] ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œï¼ˆF10ï¼‰
â””â”€â”€ [6] ç¶šè¡Œï¼ˆF5ï¼‰

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 4: ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿
â”œâ”€â”€ [1] ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«é¸æŠ
â”œâ”€â”€ [2] ãƒ™ã‚¸ã‚§æ›²ç·šã§ãƒ‘ã‚¹æç”»
â”œâ”€â”€ [3] ã‚²ãƒ¼ãƒ ç”»é¢ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”œâ”€â”€ [4] ã‚¦ã‚§ã‚¤ãƒã‚¤ãƒ³ãƒˆèª¿æ•´
â”œâ”€â”€ [5] ã‚¿ãƒ¯ãƒ¼ã‚¹ãƒ­ãƒƒãƒˆé…ç½®
â””â”€â”€ [6] JSONä¿å­˜ç¢ºèª
```

â”‚   â””â”€â”€ useDesignerSync.ts                (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ­ã‚¸ãƒƒã‚¯)
â””â”€â”€ types/
    â””â”€â”€ designer.ts                       (TypeScriptå‹å®šç¾©)

```

**å®Ÿè£…é …ç›®**:

- [ ] WebSocket ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹åŒæœŸãƒ­ã‚¸ãƒƒã‚¯
- [ ] UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—
- [ ] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿ (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ )
- [ ] ã‚²ãƒ¼ãƒ ç”»é¢ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

---

### ãƒ•ã‚§ãƒ¼ã‚º 2: æ©Ÿèƒ½å®Ÿè£… (1æ™‚é–“)

#### 2.1 ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†

**C++ å®Ÿè£…**:

```cpp
class DesignerManager {
public:
    // Entity CRUD
    Entity AddEntity(const std::string& type, const json& config);
    void UpdateEntity(Entity entity_id, const json& updates);
    void DeleteEntity(Entity entity_id);
    
    // ä¸€æ‹¬å–å¾—
    std::vector<Entity> GetAllEntities();
    json SerializeEntity(Entity entity_id);
};
```

**React å®Ÿè£…**:

```tsx
export const EntityPanel: React.FC = () => {
  const { entities, addEntity, updateEntity, deleteEntity } = useDesignerSync();
  
  return (
    <div className="entity-panel">
      {/* ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒªã‚¹ãƒˆ */}
      {/* è¿½åŠ /ç·¨é›†UI */}
    </div>
  );
};
```

---

#### 2.2 ãƒãƒƒãƒ—ç®¡ç†

**C++ å®Ÿè£…**:

```cpp
class MapDesigner {
public:
    Map GenerateMap(const json& config);
    void UpdateWaypoint(Map map_id, int index, Vector2 position);
    json GetMapPreview(Map map_id);
};
```

---

#### 2.3 ã‚²ãƒ¼ãƒ åˆ¶å¾¡

**C++ å®Ÿè£…**:

```cpp
class GameController {
public:
    void StartGame(const std::string& map_id);
    void StopGame();
    void ResetGame();
    void NextWave();
    json GetGameState();
};
```

---

## ğŸ¯ å®Œäº†åŸºæº–ã¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### âœ… Phase TD-1 å®Œäº†ã®å®šç¾©ï¼ˆãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ç‰ˆï¼‰

#### å¿…é ˆæ©Ÿèƒ½

**ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿**:

- [ ] ãƒãƒ¼ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰10ç¨®é¡ä»¥ä¸Šã®ãƒãƒ¼ãƒ‰ã‚’é…ç½®å¯èƒ½
- [ ] ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ãƒãƒ¼ãƒ‰é…ç½®
- [ ] ãƒãƒ¼ãƒ‰é–“ã‚’æ¥ç¶šï¼ˆFlowã€Dataã€Eventï¼‰
- [ ] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†
- [ ] ã‚°ãƒ©ãƒ•å®Ÿè¡Œãƒ»åœæ­¢ãƒ»ãƒªã‚»ãƒƒãƒˆ
- [ ] ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã€ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œï¼‰
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ3ç¨®ä»¥ä¸Šï¼ˆåŸºæœ¬Waveã€ãƒœã‚¹æˆ¦ã€ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ï¼‰
- [ ] ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•JSONä¿å­˜ãƒ»èª­ã¿è¾¼ã¿

**ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆDraw.ioé¢¨ï¼‰**:

- [ ] ã‚°ãƒªãƒƒãƒ‰ãƒ™ãƒ¼ã‚¹ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆã‚¹ãƒŠãƒƒãƒ—æ©Ÿèƒ½ä»˜ãï¼‰
- [ ] ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«ï¼ˆç›´ç·šã€ãƒ™ã‚¸ã‚§æ›²ç·šï¼‰
- [ ] ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…ç½®ï¼ˆã‚¿ãƒ¯ãƒ¼ã‚¹ãƒ­ãƒƒãƒˆã€éšœå®³ç‰©ï¼‰
- [ ] ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ï¼ˆåœ°å½¢ã€ãƒ‘ã‚¹ã€é…ç½®å¯èƒ½ã€è£…é£¾ï¼‰
- [ ] ã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³æ“ä½œ
- [ ] ã‚²ãƒ¼ãƒ ç”»é¢ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**:

- [ ] WebSocketåŒæ–¹å‘é€šä¿¡ç¢ºç«‹
- [ ] ãƒãƒ¼ãƒ‰å¤‰æ›´ â†’ ã‚²ãƒ¼ãƒ åæ˜  < 500ms
- [ ] ãƒãƒƒãƒ—å¤‰æ›´ â†’ ã‚²ãƒ¼ãƒ åæ˜  < 500ms
- [ ] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¤‰æ›´ â†’ ã‚²ãƒ¼ãƒ åæ˜  < 300ms
- [ ] è‡ªå‹•å†æ¥ç¶šï¼ˆæœ€å¤§5å›ãƒªãƒˆãƒ©ã‚¤ï¼‰

**C++å´å®Ÿè£…**:

- [ ] NodeGraph ã‚¯ãƒ©ã‚¹å®Ÿè£…
- [ ] Node åŸºåº•ã‚¯ãƒ©ã‚¹ + 10ç¨®é¡ä»¥ä¸Šã®ãƒãƒ¼ãƒ‰
- [ ] NodeExecutor å®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³
- [ ] WebSocket /ws/designer ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- [ ] /api/nodes/* REST API 7å€‹ä»¥ä¸Š
- [ ] JSON ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

**Reactå´å®Ÿè£…**:

- [ ] ReactFlow çµ±åˆ
- [ ] 10å€‹ä»¥ä¸Šã®ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] ãƒãƒ¼ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ
- [ ] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿
- [ ] ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ã‚­ãƒ£ãƒ³ãƒã‚¹
- [ ] ãƒ©ã‚¤ãƒ–ãƒ­ã‚°ãƒ‘ãƒãƒ«
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª

**è‡ªå‹•ä¿å­˜**:

- [ ] ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•è‡ªå‹•ä¿å­˜ï¼ˆ30ç§’ç„¡æ“ä½œ or 10å¤‰æ›´ï¼‰
- [ ] ãƒãƒƒãƒ—è‡ªå‹•ä¿å­˜
- [ ] `assets/definitions/` ã« JSON ä¿å­˜ç¢ºèª
- [ ] Auto-Save ON/OFF åˆ‡ã‚Šæ›¿ãˆ

---

### ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–

| é …ç›® | ç›®æ¨™å€¤ | æ¤œè¨¼æ–¹æ³• |
|------|--------|----------|
| ãƒãƒ¼ãƒ‰è¿½åŠ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | < 100ms | è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ« |
| ãƒãƒ¼ãƒ‰æ¥ç¶šãƒ¬ã‚¹ãƒãƒ³ã‚¹ | < 50ms | è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ« |
| ã‚°ãƒ©ãƒ•å®Ÿè¡Œé–‹å§‹ | < 200ms | è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ« |
| ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¤‰æ›´åæ˜  | < 300ms | ç›®è¦–ç¢ºèª |
| ãƒãƒƒãƒ—æç”»åæ˜  | < 500ms | ç›®è¦–ç¢ºèª |
| WebSocketå†æ¥ç¶š | < 3ç§’ | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­ãƒ†ã‚¹ãƒˆ |
| 100ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•å®Ÿè¡Œ | < 1ç§’ | ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ |

---

### ğŸ§ª å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ

#### ã‚·ãƒŠãƒªã‚ª1: ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
å‰æ: ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒæ–°è¦Waveã‚’è¨­è¨ˆã—ãŸã„

1. WebUIèµ·å‹•
   âœ… ãƒãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   
2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ŒåŸºæœ¬Waveã€ã‚’é¸æŠ
   âœ… ãƒãƒ¼ãƒ‰ã‚°ãƒ©ãƒ•ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
   
3. Wave Startãƒãƒ¼ãƒ‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç·¨é›†
   - Waveç•ªå·: 5
   - æ•µæ•°: 20
   - é–“éš”: 1.5ç§’
   âœ… ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå³åº§ã«åæ˜ ã•ã‚Œã‚‹
   
4. Enemy Spawnãƒãƒ¼ãƒ‰ã‚’è¿½åŠ 
   - æ•µã‚¿ã‚¤ãƒ—: "fast"
   - HPå€ç‡: 1.5
   âœ… ãƒãƒ¼ãƒ‰ãŒã‚­ãƒ£ãƒ³ãƒã‚¹ã«é…ç½®ã•ã‚Œã‚‹
   
5. ãƒãƒ¼ãƒ‰é–“ã‚’æ¥ç¶š
   âœ… æ¥ç¶šç·šãŒæç”»ã•ã‚Œã‚‹
   
6. ã‚°ãƒ©ãƒ•å®Ÿè¡Œãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   âœ… ã‚²ãƒ¼ãƒ ç”»é¢ã§Wave 5ãŒé–‹å§‹
   âœ… æ•µãŒ20ä½“ã€1.5ç§’é–“éš”ã§ã‚¹ãƒãƒ¼ãƒ³
   âœ… æ•µãŒ"fast"ã‚¿ã‚¤ãƒ—ã§è¡¨ç¤º
   
7. ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
   âœ… ãƒãƒ¼ãƒ‰ãŒå®Ÿè¡Œé †ã«ç·‘è‰²ã§ç‚¹æ»…
   âœ… ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã§ä¸€æ™‚åœæ­¢
   âœ… å¤‰æ•°å€¤ãŒã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ã«è¡¨ç¤º
   
8. è‡ªå‹•ä¿å­˜ç¢ºèª
   âœ… `assets/definitions/waves/wave_5.json` ã«ä¿å­˜
```

---

#### ã‚·ãƒŠãƒªã‚ª2: ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
å‰æ: ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒæ–°è¦ãƒãƒƒãƒ—ã‚’ä½œæˆã—ãŸã„

1. ãƒãƒƒãƒ—ã‚¨ãƒ‡ã‚£ã‚¿ã‚¿ãƒ–ã‚’é¸æŠ
   âœ… ã‚°ãƒªãƒƒãƒ‰ã‚­ãƒ£ãƒ³ãƒã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   
2. ãƒ‘ã‚¹æç”»ãƒ„ãƒ¼ãƒ«ã‚’é¸æŠ
   âœ… ã‚«ãƒ¼ã‚½ãƒ«ãŒãƒšãƒ³ã‚¢ã‚¤ã‚³ãƒ³ã«å¤‰åŒ–
   
3. ãƒ™ã‚¸ã‚§æ›²ç·šãƒ¢ãƒ¼ãƒ‰ã§4ã¤ã®ã‚¦ã‚§ã‚¤ãƒã‚¤ãƒ³ãƒˆã‚’é…ç½®
   - Start (100, 360)
   - Waypoint1 (400, 100)
   - Waypoint2 (800, 400)
   - Goal (1200, 360)
   âœ… æ›²ç·šãƒ‘ã‚¹ãŒæç”»ã•ã‚Œã‚‹
   âœ… ã‚²ãƒ¼ãƒ ç”»é¢ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
   
4. ã‚¿ãƒ¯ãƒ¼ã‚¹ãƒ­ãƒƒãƒˆé…ç½®ãƒ„ãƒ¼ãƒ«ã‚’é¸æŠ
   âœ… ã‚°ãƒªãƒƒãƒ‰ã‚¹ãƒŠãƒƒãƒ—ãŒæœ‰åŠ¹åŒ–
   
5. ãƒ‘ã‚¹æ²¿ã„ã«5å€‹ã®ã‚¿ãƒ¯ãƒ¼ã‚¹ãƒ­ãƒƒãƒˆã‚’é…ç½®
   âœ… é…ç½®å¯èƒ½ã‚¨ãƒªã‚¢ãŒç·‘ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
   âœ… é…ç½®ä¸å¯ã‚¨ãƒªã‚¢ãŒèµ¤ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ
   
6. ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ã€Œè£…é£¾ã€ã«åˆ‡ã‚Šæ›¿ãˆ
   âœ… è£…é£¾ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæœ¨ã€å²©ï¼‰ãŒé…ç½®å¯èƒ½
   
7. ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ (200%)
   âœ… ç´°ã‹ã„èª¿æ•´ãŒå¯èƒ½
   
8. ä¿å­˜ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   âœ… `assets/definitions/stages/stage_custom_01.json` ã«ä¿å­˜
   âœ… SVGãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”Ÿæˆ
```

---

## ğŸš€ å°†æ¥ã®æ‹¡å¼µè¨ˆç”»

### Phase TD-2: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ‰ (2æ™‚é–“)

**æ–°è¦ãƒãƒ¼ãƒ‰ç¨®åˆ¥**:

```
â€¢ Animationãƒãƒ¼ãƒ‰Particle Effectãƒãƒ¼ãƒ‰
â€¢ Sound Triggerãƒãƒ¼ãƒ‰
â€¢ Camera Controlãƒãƒ¼ãƒ‰
â€¢ Post Processing ãƒãƒ¼ãƒ‰
```

**æ©Ÿèƒ½**:

- ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆé…ç½®
- ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´
- ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

---

### Phase TD-3: AI & æ•µãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒ¼ãƒ‰ (2æ™‚é–“)

**æ–°è¦ãƒãƒ¼ãƒ‰ç¨®åˆ¥**:

```
â€¢ AI Behaviorãƒãƒ¼ãƒ‰
â€¢ Pathfindingãƒãƒ¼ãƒ‰
â€¢ State Machineãƒãƒ¼ãƒ‰
â€¢ Formation ãƒãƒ¼ãƒ‰
```

**æ©Ÿèƒ½**:

- æ•µAIãƒ‘ã‚¿ãƒ¼ãƒ³å®šç¾©
- ãƒ‘ã‚¹ãƒ•ã‚¡ã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é¸æŠ
- çŠ¶æ…‹é·ç§»å›³ã‚¨ãƒ‡ã‚£ã‚¿
- éšŠå½¢ãƒ‘ã‚¿ãƒ¼ãƒ³è¨­å®š

---

### Phase TD-4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– (1æ™‚é–“)

**æœ€é©åŒ–é …ç›®**:

- ãƒãƒƒãƒå‡¦ç†API
- Dirty ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹å·®åˆ†åŒæœŸ
- ã‚°ãƒ©ãƒ•å®Ÿè¡Œã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
- ãƒ¡ãƒ¢ãƒªãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°
- WebWorkeræ´»ç”¨ï¼ˆReactå´ï¼‰

---

### Phase TD-5: ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ (3æ™‚é–“)

**ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œ**:

- è¤‡æ•°ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼åŒæ™‚ç·¨é›†
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚«ãƒ¼ã‚½ãƒ«è¡¨ç¤º
- å¤‰æ›´å±¥æ­´ç®¡ç†
- ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†çµ±åˆ

---

## ğŸ“š å‚è€ƒè³‡æ–™ãƒ»ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ComfyUI ã‹ã‚‰å­¦ã¶ãƒã‚¤ãƒ³ãƒˆ

- ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- å®Ÿè¡Œã‚­ãƒ¥ãƒ¼ç®¡ç†
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### NodeRED ã‹ã‚‰å­¦ã¶ãƒã‚¤ãƒ³ãƒˆ

- ãƒ•ãƒ­ãƒ¼ãƒ™ãƒ¼ã‚¹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
- ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
- ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒ‰
- JSONã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

### Draw.io ã‹ã‚‰å­¦ã¶ãƒã‚¤ãƒ³ãƒˆ

- ç›´æ„Ÿçš„ãªæç”»ãƒ„ãƒ¼ãƒ«
- ã‚°ãƒªãƒƒãƒ‰ãƒ»ã‚¹ãƒŠãƒƒãƒ—æ©Ÿèƒ½
- ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
- SVGã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

---

## ğŸ“ é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒãƒ¼ãƒ‰è¨­è¨ˆåŸå‰‡

1. **å˜ä¸€è²¬ä»»ã®åŸå‰‡**: 1ãƒãƒ¼ãƒ‰ = 1æ©Ÿèƒ½
2. **æ˜ç¢ºãªå…¥å‡ºåŠ›**: ãƒãƒ¼ãƒˆåã‚’åˆ†ã‹ã‚Šã‚„ã™ã
3. **ã‚¨ãƒ©ãƒ¼è€æ€§**: ç„¡åŠ¹ãªå…¥åŠ›ã§ã‚‚ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„
4. **ãƒ‡ãƒãƒƒã‚°å¯èƒ½**: å®Ÿè¡ŒçŠ¶æ…‹ã‚’å¯è¦–åŒ–
5. **å†åˆ©ç”¨å¯èƒ½**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦ä¿å­˜å¯èƒ½

### UI/UXãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **å³åº§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: å…¨æ“ä½œã«è¦–è¦šçš„å¿œç­”
2. **Undo/Redoå¿…é ˆ**: é–“é•ã„ã‚’æã‚Œãªã„è¨­è¨ˆ
3. **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ**: åŠ¹ç‡çš„ãªæ“ä½œ
4. **ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—**: å…¨æ©Ÿèƒ½ã«èª¬æ˜è¿½åŠ 
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ã¿ã§æ“ä½œå¯èƒ½

---

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: å®Ÿè£…é–‹å§‹ â†’ Phase TD-1 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã£ã¦æ®µéšçš„ã«é€²è¡Œ

**æ¨å®šå®Œäº†æ™‚é–“**: 7æ™‚é–“ï¼ˆåŸºç›¤3h + ãƒãƒƒãƒ—2h + ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ1h + ãƒ‡ãƒãƒƒã‚°1hï¼‰

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°æ—¥**: 2025å¹´12æœˆ4æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0 - ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆç‰ˆ  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆå®Œäº† â†’ å®Ÿè£…å¾…ã¡  
**æ¨å¥¨é–‹å§‹æ—¥**: å³åº§ï¼ˆPhase 5å®Œäº†å¾Œï¼‰
// WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ†ã‚¹ãƒˆ
TEST(WebSocketParser, ParseEntityAdd) {
    auto message = json::parse(R"(
        {"type": "entity_add", "data": {...}}
    )");
    auto result = parser.ParseMessage(message);
    EXPECT_EQ(result.type, MessageType::EntityAdd);
}

```

#### React å´

```typescript
// WebSocket Hook ãƒ†ã‚¹ãƒˆ
test('useDesignerSync connects and syncs entities', async () => {
    const { result } = renderHook(() => useDesignerSync());
    
    // WebSocket æ¥ç¶šç¢ºèª
    await waitFor(() => {
        expect(result.current.connected).toBe(true);
    });
    
    // Entity è¿½åŠ 
    act(() => {
        result.current.addEntity('tower', config);
    });
    
    // åŒæœŸç¢ºèª
    await waitFor(() => {
        expect(result.current.entities).toHaveLength(1);
    });
});

// ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¨ãƒ‡ã‚£ã‚¿ãƒ†ã‚¹ãƒˆ
test('PropertyEditor syncs changes to game', async () => {
    render(
        <PropertyEditor 
            entity={mockEntity} 
            onUpdate={mockUpdate}
        />
    );
    
    const damageInput = screen.getByDisplayValue('25.5');
    fireEvent.change(damageInput, { target: { value: '30' } });
    fireEvent.blur(damageInput);
    
    await waitFor(() => {
        expect(mockUpdate).toHaveBeenCalledWith({
            damage: 30
        });
    });
});
```

---

### çµ±åˆãƒ†ã‚¹ãƒˆ

```
ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 1: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«
â”œâ”€â”€ [1] WebUIã§ã‚¿ãƒ¯ãƒ¼è¿½åŠ 
â”œâ”€â”€ [2] ã‚²ãƒ¼ãƒ ç”»é¢ã«è¡¨ç¤ºç¢ºèª
â”œâ”€â”€ [3] WebUIã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ç·¨é›†
â”œâ”€â”€ [4] 0.5ç§’ä»¥å†…ã«ã‚²ãƒ¼ãƒ ç”»é¢åæ˜ ç¢ºèª
â”œâ”€â”€ [5] WebUIã§å‰Šé™¤
â””â”€â”€ [6] ã‚²ãƒ¼ãƒ ç”»é¢ã‹ã‚‰æ¶ˆå»ç¢ºèª

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 2: ãƒãƒƒãƒ—ç·¨é›†
â”œâ”€â”€ [1] WebUIã§ãƒãƒƒãƒ—ç”Ÿæˆ
â”œâ”€â”€ [2] ã‚²ãƒ¼ãƒ ç”»é¢ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
â”œâ”€â”€ [3] Waypoint ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•
â”œâ”€â”€ [4] ã‚²ãƒ¼ãƒ ç”»é¢ãƒ‘ã‚¹æ›´æ–°ç¢ºèª
â””â”€â”€ [5] è‡ªå‹•ä¿å­˜ç¢ºèª

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 3: ã‚²ãƒ¼ãƒ å®Ÿè¡Œ
â”œâ”€â”€ [1] WebUIã§ã‚²ãƒ¼ãƒ é–‹å§‹
â”œâ”€â”€ [2] æ•µã‚¹ãƒãƒ¼ãƒ³ç¢ºèª
â”œâ”€â”€ [3] Waveé€²è¡Œ
â”œâ”€â”€ [4] WebUIçŠ¶æ…‹æ›´æ–°ç¢ºèª
â””â”€â”€ [5] ã‚²ãƒ¼ãƒ çµ‚äº†

ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª 4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
â”œâ”€â”€ [1] 100å€‹ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è¿½åŠ 
â”œâ”€â”€ [2] ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£é€£ç¶šç·¨é›†
â”œâ”€â”€ [3] ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼æ¸¬å®š (< 500ms ç›®æ¨™)
â””â”€â”€ [4] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œæŸ»
```

---

## ğŸ” ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### ä¾‹å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 1. WebSocket æ¥ç¶šå¤±æ•—

**ã‚¨ãƒ©ãƒ¼**:

```json
{
  "status": "error",
  "error": "WebSocket connection failed",
  "code": "WS_CONN_FAILED",
  "details": "Connection timeout after 10s"
}
```

**å¯¾å¿œ**:

- UI ã«ã€Œæ¥ç¶šä¸­...ã€è¡¨ç¤º
- è‡ªå‹•å†æ¥ç¶šï¼ˆæœ€å¤§5å›ã€æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ï¼‰
- å†æ¥ç¶šæˆåŠŸæ™‚ã«ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã«é€šçŸ¥

---

#### 2. ç„¡åŠ¹ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é…ç½®

**ã‚¨ãƒ©ãƒ¼**:

```json
{
  "status": "error",
  "error": "Invalid entity position",
  "code": "INVALID_POSITION",
  "details": "Position outside map bounds: x=500, y=300 > 640x360",
  "suggestion": "Position must be within map bounds"
}
```

**å¯¾å¿œ**:

- UI ã§ç„¡åŠ¹ãªä½ç½®ã‚’èµ¤ããƒã‚¤ãƒ©ã‚¤ãƒˆ
- ä»£æ›¿æ¡ˆã‚’æç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¿®æ­£ã‚’ä¿ƒã™

---

#### 3. åŒæœŸã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

**ã‚¨ãƒ©ãƒ¼**:

```json
{
  "status": "error",
  "error": "Synchronization timeout",
  "code": "SYNC_TIMEOUT",
  "details": "No response within 5s",
  "retry_hint": "Your change may have been applied despite this error"
}
```

**å¯¾å¿œ**:

- è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤
- ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã‚’å†åŒæœŸ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«çŠ¶æ…‹ã‚’é€šçŸ¥

---

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–

### è‡ªå‹•ä¿å­˜ãƒ•ãƒ­ãƒ¼

```
[ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒå¤‰æ›´]
        â†“
[Auto-Save: ON ãƒã‚§ãƒƒã‚¯]
        â†“
[30ç§’ç„¡æ“ä½œ or 10å€‹ã®å¤‰æ›´ãŒè“„ç©]
        â†“
[JSON ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜]
        â†“
assets/definitions/
â”œâ”€â”€ stages/
â”‚   â”œâ”€â”€ stage_001.json      (ãƒãƒƒãƒ—å®šç¾©)
â”‚   â””â”€â”€ stage_002.json
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ towers.json         (ã‚¿ãƒ¯ãƒ¼å®šç¾©)
â”‚   â””â”€â”€ enemies.json        (æ•µå®šç¾©)
â””â”€â”€ ui/
    â”œâ”€â”€ buttons.json        (ãƒœã‚¿ãƒ³é…ç½®)
    â””â”€â”€ panels.json         (ãƒ‘ãƒãƒ«é…ç½®)
```

---

## ğŸš€ æ‹¡å¼µæ€§ (Phase TD-2/3)

### Phase TD-2: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ (0.5æ™‚é–“)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š   â”‚
â”‚ â€¢ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆé…ç½®      â”‚
â”‚ â€¢ ã‚µã‚¦ãƒ³ãƒ‰åŒæœŸ                      â”‚
â”‚ â€¢ ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´UI                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**:

```json
{
  "type": "animation_add",
  "data": {
    "entity_id": "tower_e001",
    "animation": "fire",
    "frame_count": 8,
    "fps": 12
  }
}
```

---

### Phase TD-3: AI & æ•µã‚¦ã‚§ãƒ¼ãƒ–ã‚¨ãƒ‡ã‚£ã‚¿ (0.5æ™‚é–“)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Wave å®šç¾©UI (æ•µæ•°ã€ã‚¿ã‚¤ãƒ—ã€ã‚¹ãƒãƒ¼ãƒ³)   â”‚
â”‚ â€¢ AIãƒ‘ã‚¿ãƒ¼ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿                     â”‚
â”‚ â€¢ é›£æ˜“åº¦ãƒ—ãƒªã‚»ãƒƒãƒˆ (Easy/Normal/Hard)   â”‚
â”‚ â€¢ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Phase TD-4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– (0.5æ™‚é–“)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ãƒãƒƒãƒå‡¦ç† API                      â”‚
â”‚ â€¢ Dirty ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹å·®åˆ†åŒæœŸ         â”‚
â”‚ â€¢ ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥                    â”‚
â”‚ â€¢ ãƒ¡ãƒ¢ãƒªãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

| API | æœŸå¾…æ™‚é–“ | å®Ÿè£…æ™‚ç›®æ¨™ |
|-----|---------|----------|
| Entity è¿½åŠ  | < 100ms | âœ… 50ms |
| Entity æ›´æ–° | < 100ms | âœ… 50ms |
| Entity å‰Šé™¤ | < 50ms | âœ… 30ms |
| çŠ¶æ…‹åŒæœŸ | < 200ms | âœ… 100ms |
| ãƒãƒƒãƒ—ç”Ÿæˆ | < 500ms | âœ… 300ms |
| å…¨ä½“åæ˜  | < 500ms | âœ… 250ms |

---

## ğŸ¯ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### C++ å´

- [ ] WebSocket ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé¸å®šãƒ»çµ±åˆ
- [ ] /ws/designer ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [ ] JSON ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ³ãƒ‰ãƒ©å®Ÿè£…
- [ ] Entity CRUD API å®Ÿè£…
- [ ] Map API å®Ÿè£…
- [ ] GameState API å®Ÿè£…
- [ ] çŠ¶æ…‹åŒæœŸã‚¹ãƒ¬ãƒƒãƒ‰å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
- [ ] ãƒ­ã‚°è¨˜éŒ²å®Ÿè£…
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè£…

### React å´

- [ ] WebSocket Hook å®Ÿè£… (useDesignerSync)
- [ ] TDDesignWorkbench ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] GamePreviewPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] EntityPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] PropertiesPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] MapPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] GameControlPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] LiveLogPanel ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—å®Ÿè£…
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ãƒ­ã‚¸ãƒƒã‚¯
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè£…

### çµ±åˆãƒ»ãƒ†ã‚¹ãƒˆ

- [ ] End-to-End ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ (é«˜è² è·)
- [ ] æ¥ç¶šå–ªå¤±ãƒ»å¾©æ—§ãƒ†ã‚¹ãƒˆ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ (ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯)

---

## ğŸ“ é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­è¨ˆåŸå‰‡

1. **ã¹ãç­‰æ€§**: åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°å›é€ä¿¡ã—ã¦ã‚‚å®‰å…¨
2. **é †åºä¿è¨¼**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é€ä¿¡é †ã«å‡¦ç†ã•ã‚Œã‚‹
3. **ã‚¨ãƒ©ãƒ¼å›å¾©**: å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯å¾©æ—§æ–¹æ³•ã‚’å«ã‚ã‚‹
4. **ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹**: å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç‹¬ç«‹ã—ã¦ã„ã‚‹

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

1. **Debounce**: UIã‹ã‚‰ã®é€£ç¶šå…¥åŠ›ã‚’é›†ç´„ (200ms)
2. **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°å¤‰æ›´ã‚’ã¾ã¨ã‚ã¦é€ä¿¡
3. **å·®åˆ†åŒæœŸ**: å¤‰æ›´éƒ¨åˆ†ã®ã¿åŒæœŸ
4. **åœ§ç¸®**: å¤§å®¹é‡JSONã¯åœ§ç¸®ã—ã¦é€ä¿¡

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ (é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰å‰æ)

1. **èªè¨¼**: `Authorization: Bearer dev-mode` ãƒ˜ãƒƒãƒ€ãƒ¼å¿…é ˆ
2. **æ¤œè¨¼**: ã™ã¹ã¦ã®å…¥åŠ›å€¤ã‚’æ¤œè¨¼
3. **ãƒ­ã‚°**: å…¨æ“ä½œã‚’ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã«è¨˜éŒ²
4. **éš”é›¢**: é–‹ç™ºç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯åˆ†é›¢

---

## ğŸ“š å‚è€ƒè³‡æ–™

### WebSocket ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå€™è£œ

1. **websocketpp** (C++)
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã‚ªãƒ³ãƒªãƒ¼
   - Boost.Asio ãƒ™ãƒ¼ã‚¹
   - æ¨å¥¨

2. **Beast** (Modern C++)
   - Boost.Beast
   - C++14+
   - é«˜æ€§èƒ½

3. **Socket.IO** (JavaScript)
   - React å´ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
   - è‡ªå‹•å†æ¥ç¶š
   - æ¨å¥¨

### React WebSocket ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

1. **react-use-websocket**
   - ã‚·ãƒ³ãƒ—ãƒ«ã€å†åˆ©ç”¨å¯èƒ½
   - ã‚«ã‚¹ã‚¿ãƒ  Hook å¯¾å¿œ
   - æ¨å¥¨

2. **Socket.IO Client**
   - ãƒ•ãƒ«æ©Ÿèƒ½
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹

---

## ğŸ å®Œäº†åŸºæº–

âœ… **Phase TD-1 å®Œäº†ã®å®šç¾©**:

1. âœ… WebSocketé€šä¿¡ç¢ºç«‹
2. âœ… Entity CRUD å…¨æ©Ÿèƒ½å‹•ä½œ
3. âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜  < 500ms
4. âœ… ãƒãƒƒãƒ—ç”Ÿæˆãƒ»ç·¨é›†æ©Ÿèƒ½
5. âœ… ã‚²ãƒ¼ãƒ åˆ¶å¾¡ (é–‹å§‹/åœæ­¢)
6. âœ… è‡ªå‹•ä¿å­˜æ©Ÿèƒ½
7. âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå…¨
8. âœ… å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼
9. âœ… ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒæº€è¶³ã®UI/UX
10. âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™

---

**æ¬¡ã‚¹ãƒ†ãƒƒãƒ—**: å®Ÿè£…é–‹å§‹ â†’ Phase TD-1 ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å¾“ã£ã¦é€²è¡Œ
