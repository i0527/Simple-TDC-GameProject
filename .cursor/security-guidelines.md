# セキュリティガイドライン（ベース）

## 1. ファイル/I/O
- JSON読み込みは信頼ディレクトリのみを監視（assets/definitions, assets/schemas）。
- パス検証を行い、相対パスでのディレクトリトラバーサルを拒否。
- ファイルサイズ上限を設定（例: 1MB/ファイル）し、超過時は読み込みを拒否。

## 2. JSON解析
- すべての `json::parse` は try-catch でラップし、エラーメッセージをログに残す。
- スキーマバリデーションを必須とし、未知フィールドは警告または無視する。
- ネスト深さと配列長に上限を設定し、DoSを防ぐ。

## 3. リソース管理
- RaylibリソースはRAIIで管理し、解放漏れを防止する。
- テクスチャ/サウンド等の最大数総メモリ量に上限を設ける。
- ホットリロード失敗時は直前のキャッシュを保持し、破損データを適用しない。

## 4. ログ/診断
- 例外やバリデーション失敗はレベル付きでログ出力（error/warn/info）。
- リリースビルドでは過度な詳細ログやチート用コマンドを無効化する。

## 5. ビルド/依存
- 依存ライブラリは固定バージョン（EnTT 3.12.2, nlohmann/json 3.11.2, Raylib 5.0）。
- サードパーティ更新時は脆弱性確認とリリースノートを確認する。
